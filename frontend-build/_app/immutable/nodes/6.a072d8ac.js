import{s as Lt,n as ze,r as mt,o as Pt,e as _t}from"../chunks/scheduler.27fe8299.js";import{S as St,i as jt,s as p,g as a,m as Q,e as bt,D as At,f as i,c as _,h as r,j as h,x as D,n as X,k as c,a as S,y as e,z as me,o as be,E as ue,H as st,A as ut,I as pt,J as ft}from"../chunks/index.e0a53316.js";import{g as Nt}from"../chunks/globals.7f7f1b26.js";import{e as Fe}from"../chunks/each.d148e7a3.js";import{g as ct}from"../chunks/navigation.985c25e8.js";const{document:gt}=Nt;function xt(n,t,s){const l=n.slice();return l[29]=t[s],l}function yt(n,t,s){const l=n.slice();return l[32]=t[s],l}function Ct(n,t,s){const l=n.slice();return l[35]=t[s],l}function wt(n,t,s){const l=n.slice();return l[38]=t[s],l}function Ot(n){let t,s=Fe(n[1].slice(0,5)),l=[];for(let o=0;o<s.length;o+=1)l[o]=kt(wt(n,s,o));return{c(){t=a("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){t=r(o,"DIV",{class:!0});var f=h(t);for(let d=0;d<l.length;d+=1)l[d].l(f);f.forEach(i),this.h()},h(){c(t,"class","space-y-4")},m(o,f){S(o,t,f);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null)},p(o,f){if(f[0]&2){s=Fe(o[1].slice(0,5));let d;for(d=0;d<s.length;d+=1){const w=wt(o,s,d);l[d]?l[d].p(w,f):(l[d]=kt(w),l[d].c(),l[d].m(t,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=s.length}},d(o){o&&i(t),ut(l,o)}}}function Ht(n){let t,s='<div class="text-4xl mb-2"></div> <p>No session plans yet</p> <p class="text-sm">Generate your first session plan above</p>';return{c(){t=a("div"),t.innerHTML=s,this.h()},l(l){t=r(l,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-1qnuppn"&&(t.innerHTML=s),this.h()},h(){c(t,"class","text-center py-8 text-gray-500")},m(l,o){S(l,t,o)},p:ze,d(l){l&&i(t)}}}function Mt(n){let t,s='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>';return{c(){t=a("div"),t.innerHTML=s,this.h()},l(l){t=r(l,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-in56x0"&&(t.innerHTML=s),this.h()},h(){c(t,"class","flex items-center justify-center py-8")},m(l,o){S(l,t,o)},p:ze,d(l){l&&i(t)}}}function kt(n){let t,s,l,o,f=n[38].title+"",d,w,g,m,v=n[38].department+"",W,E,C,F=n[38].level+"",x,j,T,u=n[38].duration_minutes+"",b,q,R,U,G,A=new Date(n[38].created_at).toLocaleDateString()+"",z,$,H,N="Export PDF",de,re,P;function V(){return n[16](n[38])}return{c(){t=a("div"),s=a("div"),l=a("div"),o=a("h4"),d=Q(f),w=p(),g=a("div"),m=a("span"),W=Q(v),E=p(),C=a("span"),x=Q(F),j=p(),T=a("span"),b=Q(u),q=Q("min"),R=p(),U=a("p"),G=Q("Created: "),z=Q(A),$=p(),H=a("button"),H.textContent=N,de=p(),this.h()},l(B){t=r(B,"DIV",{class:!0});var I=h(t);s=r(I,"DIV",{class:!0});var L=h(s);l=r(L,"DIV",{class:!0});var M=h(l);o=r(M,"H4",{class:!0});var De=h(o);d=X(De,f),De.forEach(i),w=_(M),g=r(M,"DIV",{class:!0});var ee=h(g);m=r(ee,"SPAN",{});var xe=h(m);W=X(xe,v),xe.forEach(i),E=_(ee),C=r(ee,"SPAN",{});var ve=h(C);x=X(ve,F),ve.forEach(i),j=_(ee),T=r(ee,"SPAN",{});var te=h(T);b=X(te,u),q=X(te,"min"),te.forEach(i),ee.forEach(i),R=_(M),U=r(M,"P",{class:!0});var he=h(U);G=X(he,"Created: "),z=X(he,A),he.forEach(i),M.forEach(i),$=_(L),H=r(L,"BUTTON",{class:!0,"data-svelte-h":!0}),D(H)!=="svelte-l5mm49"&&(H.textContent=N),L.forEach(i),de=_(I),I.forEach(i),this.h()},h(){c(o,"class","font-semibold text-gray-900"),c(g,"class","flex items-center gap-4 mt-1 text-sm text-gray-600"),c(U,"class","text-xs text-gray-500 mt-2"),c(l,"class","flex-1"),c(H,"class","bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors"),c(s,"class","flex items-start justify-between"),c(t,"class","border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors")},m(B,I){S(B,t,I),e(t,s),e(s,l),e(l,o),e(o,d),e(l,w),e(l,g),e(g,m),e(m,W),e(g,E),e(g,C),e(C,x),e(g,j),e(g,T),e(T,b),e(T,q),e(l,R),e(l,U),e(U,G),e(U,z),e(s,$),e(s,H),e(t,de),re||(P=me(H,"click",V),re=!0)},p(B,I){n=B,I[0]&2&&f!==(f=n[38].title+"")&&be(d,f),I[0]&2&&v!==(v=n[38].department+"")&&be(W,v),I[0]&2&&F!==(F=n[38].level+"")&&be(x,F),I[0]&2&&u!==(u=n[38].duration_minutes+"")&&be(b,u),I[0]&2&&A!==(A=new Date(n[38].created_at).toLocaleDateString()+"")&&be(z,A)},d(B){B&&i(t),re=!1,P()}}}function Bt(n){let t,s=Fe(n[2].slice(0,5)),l=[];for(let o=0;o<s.length;o+=1)l[o]=Et(Ct(n,s,o));return{c(){t=a("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){t=r(o,"DIV",{class:!0});var f=h(t);for(let d=0;d<l.length;d+=1)l[d].l(f);f.forEach(i),this.h()},h(){c(t,"class","space-y-4")},m(o,f){S(o,t,f);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null)},p(o,f){if(f[0]&4){s=Fe(o[2].slice(0,5));let d;for(d=0;d<s.length;d+=1){const w=Ct(o,s,d);l[d]?l[d].p(w,f):(l[d]=Et(w),l[d].c(),l[d].m(t,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=s.length}},d(o){o&&i(t),ut(l,o)}}}function Gt(n){let t,s='<div class="text-4xl mb-2"></div> <p>No schemes of work yet</p> <p class="text-sm">Generate your first scheme above</p>';return{c(){t=a("div"),t.innerHTML=s,this.h()},l(l){t=r(l,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-19spsdt"&&(t.innerHTML=s),this.h()},h(){c(t,"class","text-center py-8 text-gray-500")},m(l,o){S(l,t,o)},p:ze,d(l){l&&i(t)}}}function qt(n){let t,s='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>';return{c(){t=a("div"),t.innerHTML=s,this.h()},l(l){t=r(l,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-in56x0"&&(t.innerHTML=s),this.h()},h(){c(t,"class","flex items-center justify-center py-8")},m(l,o){S(l,t,o)},p:ze,d(l){l&&i(t)}}}function Et(n){let t,s,l,o,f=n[35].title+"",d,w,g,m,v=n[35].department+"",W,E,C,F=n[35].level+"",x,j,T,u=n[35].academic_year+"",b,q,R,U,G=n[35].term+"",A,z,$,H=n[35].total_weeks+"",N,de,re,P,V,B=new Date(n[35].created_at).toLocaleDateString()+"",I,L,M,De="Export PDF",ee,xe,ve;function te(){return n[17](n[35])}return{c(){t=a("div"),s=a("div"),l=a("div"),o=a("h4"),d=Q(f),w=p(),g=a("div"),m=a("span"),W=Q(v),E=p(),C=a("span"),x=Q(F),j=p(),T=a("span"),b=Q(u),q=p(),R=a("div"),U=a("span"),A=Q(G),z=p(),$=a("span"),N=Q(H),de=Q(" weeks"),re=p(),P=a("p"),V=Q("Created: "),I=Q(B),L=p(),M=a("button"),M.textContent=De,ee=p(),this.h()},l(he){t=r(he,"DIV",{class:!0});var ae=h(t);s=r(ae,"DIV",{class:!0});var Z=h(s);l=r(Z,"DIV",{class:!0});var le=h(l);o=r(le,"H4",{class:!0});var oe=h(o);d=X(oe,f),oe.forEach(i),w=_(le),g=r(le,"DIV",{class:!0});var se=h(g);m=r(se,"SPAN",{});var qe=h(m);W=X(qe,v),qe.forEach(i),E=_(se),C=r(se,"SPAN",{});var je=h(C);x=X(je,F),je.forEach(i),j=_(se),T=r(se,"SPAN",{});var fe=h(T);b=X(fe,u),fe.forEach(i),se.forEach(i),q=_(le),R=r(le,"DIV",{class:!0});var ye=h(R);U=r(ye,"SPAN",{});var _e=h(U);A=X(_e,G),_e.forEach(i),z=_(ye),$=r(ye,"SPAN",{});var pe=h($);N=X(pe,H),de=X(pe," weeks"),pe.forEach(i),ye.forEach(i),re=_(le),P=r(le,"P",{class:!0});var Pe=h(P);V=X(Pe,"Created: "),I=X(Pe,B),Pe.forEach(i),le.forEach(i),L=_(Z),M=r(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),D(M)!=="svelte-c5mt7o"&&(M.textContent=De),Z.forEach(i),ee=_(ae),ae.forEach(i),this.h()},h(){c(o,"class","font-semibold text-gray-900"),c(g,"class","flex items-center gap-4 mt-1 text-sm text-gray-600"),c(R,"class","flex items-center gap-4 mt-1 text-sm text-gray-600"),c(P,"class","text-xs text-gray-500 mt-2"),c(l,"class","flex-1"),c(M,"class","bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700 transition-colors"),c(s,"class","flex items-start justify-between"),c(t,"class","border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors")},m(he,ae){S(he,t,ae),e(t,s),e(s,l),e(l,o),e(o,d),e(l,w),e(l,g),e(g,m),e(m,W),e(g,E),e(g,C),e(C,x),e(g,j),e(g,T),e(T,b),e(l,q),e(l,R),e(R,U),e(U,A),e(R,z),e(R,$),e($,N),e($,de),e(l,re),e(l,P),e(P,V),e(P,I),e(s,L),e(s,M),e(t,ee),xe||(ve=me(M,"click",te),xe=!0)},p(he,ae){n=he,ae[0]&4&&f!==(f=n[35].title+"")&&be(d,f),ae[0]&4&&v!==(v=n[35].department+"")&&be(W,v),ae[0]&4&&F!==(F=n[35].level+"")&&be(x,F),ae[0]&4&&u!==(u=n[35].academic_year+"")&&be(b,u),ae[0]&4&&G!==(G=n[35].term+"")&&be(A,G),ae[0]&4&&H!==(H=n[35].total_weeks+"")&&be(N,H),ae[0]&4&&B!==(B=new Date(n[35].created_at).toLocaleDateString()+"")&&be(I,B)},d(he){he&&i(t),xe=!1,ve()}}}function Dt(n){let t,s,l,o,f,d=n[5]==="session_plan"?" Generate Session Plan":" Generate Scheme of Work",w,g,m,v="",W,E,C="Fill in the details below and our AI will generate a professional, RTB-compliant document for you.",F,x,j,T,u="Lesson/Subject Title *",b,q,R,U,G,A,z="Department *",$,H,N,de="Select Department",re,P,V,B="Level *",I,L,M,De="Select Level",ee,xe,ve,te,he="Additional Requirements (Optional)",ae,Z,le,oe,se,qe="AI Will Generate:",je,fe,ye,_e,pe,Pe,Je,ie,ke,Se,nt,Ae=Fe(n[8]),Y=[];for(let y=0;y<Ae.length;y+=1)Y[y]=It(yt(n,Ae,y));let Ie=Fe(n[9]),ne=[];for(let y=0;y<Ie.length;y+=1)ne[y]=Tt(xt(n,Ie,y));function et(y,K){return y[5]==="session_plan"?Ut:Rt}let Re=et(n),ge=Re(n);function Ne(y,K){return y[5]==="session_plan"?Ft:Wt}let Qe=Ne(n),Ce=Qe(n);function Oe(y,K){return y[7]?Jt:zt}let Ue=Oe(n),Te=Ue(n);return{c(){t=a("div"),s=a("div"),l=a("div"),o=a("div"),f=a("h3"),w=Q(d),g=p(),m=a("button"),m.innerHTML=v,W=p(),E=a("p"),E.textContent=C,F=p(),x=a("div"),j=a("div"),T=a("label"),T.textContent=u,b=p(),q=a("input"),R=p(),U=a("div"),G=a("div"),A=a("label"),A.textContent=z,$=p(),H=a("select"),N=a("option"),N.textContent=de;for(let y=0;y<Y.length;y+=1)Y[y].c();re=p(),P=a("div"),V=a("label"),V.textContent=B,I=p(),L=a("select"),M=a("option"),M.textContent=De;for(let y=0;y<ne.length;y+=1)ne[y].c();ee=p(),ge.c(),xe=p(),ve=a("div"),te=a("label"),te.textContent=he,ae=p(),Z=a("textarea"),le=p(),oe=a("div"),se=a("h4"),se.textContent=qe,je=p(),fe=a("div"),Ce.c(),ye=p(),_e=a("div"),pe=a("button"),Pe=Q("Cancel"),Je=p(),ie=a("button"),Te.c(),this.h()},l(y){t=r(y,"DIV",{class:!0});var K=h(t);s=r(K,"DIV",{class:!0});var k=h(s);l=r(k,"DIV",{class:!0});var Ee=h(l);o=r(Ee,"DIV",{class:!0});var He=h(o);f=r(He,"H3",{class:!0});var we=h(f);w=X(we,d),we.forEach(i),g=_(He),m=r(He,"BUTTON",{class:!0,"data-svelte-h":!0}),D(m)!=="svelte-19cwdq1"&&(m.innerHTML=v),He.forEach(i),W=_(Ee),E=r(Ee,"P",{class:!0,"data-svelte-h":!0}),D(E)!=="svelte-1kusrjs"&&(E.textContent=C),Ee.forEach(i),F=_(k),x=r(k,"DIV",{class:!0});var J=h(x);j=r(J,"DIV",{});var Xe=h(j);T=r(Xe,"LABEL",{class:!0,"data-svelte-h":!0}),D(T)!=="svelte-frbx67"&&(T.textContent=u),b=_(Xe),q=r(Xe,"INPUT",{type:!0,placeholder:!0,class:!0}),Xe.forEach(i),R=_(J),U=r(J,"DIV",{class:!0});var Ye=h(U);G=r(Ye,"DIV",{});var O=h(G);A=r(O,"LABEL",{class:!0,"data-svelte-h":!0}),D(A)!=="svelte-qr2l8w"&&(A.textContent=z),$=_(O),H=r(O,"SELECT",{class:!0});var ce=h(H);N=r(ce,"OPTION",{"data-svelte-h":!0}),D(N)!=="svelte-c0wpa2"&&(N.textContent=de);for(let Le=0;Le<Y.length;Le+=1)Y[Le].l(ce);ce.forEach(i),O.forEach(i),re=_(Ye),P=r(Ye,"DIV",{});var Ve=h(P);V=r(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),D(V)!=="svelte-wezct8"&&(V.textContent=B),I=_(Ve),L=r(Ve,"SELECT",{class:!0});var Me=h(L);M=r(Me,"OPTION",{"data-svelte-h":!0}),D(M)!=="svelte-d2jd54"&&(M.textContent=De);for(let Le=0;Le<ne.length;Le+=1)ne[Le].l(Me);Me.forEach(i),Ve.forEach(i),Ye.forEach(i),ee=_(J),ge.l(J),xe=_(J),ve=r(J,"DIV",{});var Ke=h(ve);te=r(Ke,"LABEL",{class:!0,"data-svelte-h":!0}),D(te)!=="svelte-gmb22e"&&(te.textContent=he),ae=_(Ke),Z=r(Ke,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),h(Z).forEach(i),Ke.forEach(i),le=_(J),oe=r(J,"DIV",{class:!0});var Be=h(oe);se=r(Be,"H4",{class:!0,"data-svelte-h":!0}),D(se)!=="svelte-1skuqg7"&&(se.textContent=qe),je=_(Be),fe=r(Be,"DIV",{class:!0});var Ze=h(fe);Ce.l(Ze),Ze.forEach(i),Be.forEach(i),J.forEach(i),ye=_(k),_e=r(k,"DIV",{class:!0});var We=h(_e);pe=r(We,"BUTTON",{class:!0});var Ge=h(pe);Pe=X(Ge,"Cancel"),Ge.forEach(i),Je=_(We),ie=r(We,"BUTTON",{class:!0});var $e=h(ie);Te.l($e),$e.forEach(i),We.forEach(i),k.forEach(i),K.forEach(i),this.h()},h(){c(f,"class","text-xl font-bold text-gray-900"),c(m,"class","text-gray-400 hover:text-gray-600"),c(o,"class","flex items-center justify-between"),c(E,"class","text-gray-600 mt-2"),c(l,"class","p-6 border-b border-gray-200"),c(T,"class","block text-sm font-semibold text-gray-700 mb-2"),c(q,"type","text"),c(q,"placeholder","e.g., Introduction to Python Programming"),c(q,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),c(A,"class","block text-sm font-semibold text-gray-700 mb-2"),N.__value="",ue(N,N.__value),c(H,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),n[6].department===void 0&&_t(()=>n[19].call(H)),c(V,"class","block text-sm font-semibold text-gray-700 mb-2"),M.__value="",ue(M,M.__value),c(L,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),n[6].level===void 0&&_t(()=>n[20].call(L)),c(U,"class","grid md:grid-cols-2 gap-4"),c(te,"class","block text-sm font-semibold text-gray-700 mb-2"),c(Z,"placeholder","Any specific requirements, focus areas, or special considerations..."),c(Z,"rows","3"),c(Z,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),c(se,"class","font-semibold text-blue-900 mb-2"),c(fe,"class","grid md:grid-cols-2 gap-2 text-sm text-blue-800"),c(oe,"class","bg-blue-50 border border-blue-200 rounded-lg p-4"),c(x,"class","p-6 space-y-6"),c(pe,"class","flex-1 bg-gray-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-700 transition-colors"),pe.disabled=n[7],c(ie,"class","flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50"),ie.disabled=ke=n[7]||!n[6].lesson_title||!n[6].department||!n[6].level,c(_e,"class","p-6 border-t border-gray-200 flex gap-4"),c(s,"class","bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"),c(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4")},m(y,K){S(y,t,K),e(t,s),e(s,l),e(l,o),e(o,f),e(f,w),e(o,g),e(o,m),e(l,W),e(l,E),e(s,F),e(s,x),e(x,j),e(j,T),e(j,b),e(j,q),ue(q,n[6].lesson_title),e(x,R),e(x,U),e(U,G),e(G,A),e(G,$),e(G,H),e(H,N);for(let k=0;k<Y.length;k+=1)Y[k]&&Y[k].m(H,null);st(H,n[6].department,!0),e(U,re),e(U,P),e(P,V),e(P,I),e(P,L),e(L,M);for(let k=0;k<ne.length;k+=1)ne[k]&&ne[k].m(L,null);st(L,n[6].level,!0),e(x,ee),ge.m(x,null),e(x,xe),e(x,ve),e(ve,te),e(ve,ae),e(ve,Z),ue(Z,n[6].additional_requirements),e(x,le),e(x,oe),e(oe,se),e(oe,je),e(oe,fe),Ce.m(fe,null),e(s,ye),e(s,_e),e(_e,pe),e(pe,Pe),e(_e,Je),e(_e,ie),Te.m(ie,null),Se||(nt=[me(m,"click",n[12]),me(q,"input",n[18]),me(H,"change",n[19]),me(L,"change",n[20]),me(Z,"input",n[25]),me(pe,"click",n[12]),me(ie,"click",n[10])],Se=!0)},p(y,K){if(K[0]&32&&d!==(d=y[5]==="session_plan"?" Generate Session Plan":" Generate Scheme of Work")&&be(w,d),K[0]&320&&q.value!==y[6].lesson_title&&ue(q,y[6].lesson_title),K[0]&256){Ae=Fe(y[8]);let k;for(k=0;k<Ae.length;k+=1){const Ee=yt(y,Ae,k);Y[k]?Y[k].p(Ee,K):(Y[k]=It(Ee),Y[k].c(),Y[k].m(H,null))}for(;k<Y.length;k+=1)Y[k].d(1);Y.length=Ae.length}if(K[0]&320&&st(H,y[6].department),K[0]&512){Ie=Fe(y[9]);let k;for(k=0;k<Ie.length;k+=1){const Ee=xt(y,Ie,k);ne[k]?ne[k].p(Ee,K):(ne[k]=Tt(Ee),ne[k].c(),ne[k].m(L,null))}for(;k<ne.length;k+=1)ne[k].d(1);ne.length=Ie.length}K[0]&320&&st(L,y[6].level),Re===(Re=et(y))&&ge?ge.p(y,K):(ge.d(1),ge=Re(y),ge&&(ge.c(),ge.m(x,xe))),K[0]&320&&ue(Z,y[6].additional_requirements),Qe!==(Qe=Ne(y))&&(Ce.d(1),Ce=Qe(y),Ce&&(Ce.c(),Ce.m(fe,null))),K[0]&128&&(pe.disabled=y[7]),Ue!==(Ue=Oe(y))&&(Te.d(1),Te=Ue(y),Te&&(Te.c(),Te.m(ie,null))),K[0]&448&&ke!==(ke=y[7]||!y[6].lesson_title||!y[6].department||!y[6].level)&&(ie.disabled=ke)},d(y){y&&i(t),ut(Y,y),ut(ne,y),ge.d(),Ce.d(),Te.d(),Se=!1,mt(nt)}}}function It(n){let t,s=n[32]+"",l;return{c(){t=a("option"),l=Q(s),this.h()},l(o){t=r(o,"OPTION",{});var f=h(t);l=X(f,s),f.forEach(i),this.h()},h(){t.__value=n[32],ue(t,t.__value)},m(o,f){S(o,t,f),e(t,l)},p:ze,d(o){o&&i(t)}}}function Tt(n){let t,s=n[29]+"",l;return{c(){t=a("option"),l=Q(s),this.h()},l(o){t=r(o,"OPTION",{});var f=h(t);l=X(f,s),f.forEach(i),this.h()},h(){t.__value=n[29],ue(t,t.__value)},m(o,f){S(o,t,f),e(t,l)},p:ze,d(o){o&&i(t)}}}function Rt(n){let t,s,l,o="Academic Year",f,d,w,g,m,v="Term",W,E,C,F="Term 1",x,j="Term 2",T,u="Term 3",b,q="Semester 1",R,U="Semester 2",G,A,z,$="Total Weeks",H,N,de,re;return{c(){t=a("div"),s=a("div"),l=a("label"),l.textContent=o,f=p(),d=a("input"),w=p(),g=a("div"),m=a("label"),m.textContent=v,W=p(),E=a("select"),C=a("option"),C.textContent=F,x=a("option"),x.textContent=j,T=a("option"),T.textContent=u,b=a("option"),b.textContent=q,R=a("option"),R.textContent=U,G=p(),A=a("div"),z=a("label"),z.textContent=$,H=p(),N=a("input"),this.h()},l(P){t=r(P,"DIV",{class:!0});var V=h(t);s=r(V,"DIV",{});var B=h(s);l=r(B,"LABEL",{class:!0,"data-svelte-h":!0}),D(l)!=="svelte-1tahdpc"&&(l.textContent=o),f=_(B),d=r(B,"INPUT",{type:!0,placeholder:!0,class:!0}),B.forEach(i),w=_(V),g=r(V,"DIV",{});var I=h(g);m=r(I,"LABEL",{class:!0,"data-svelte-h":!0}),D(m)!=="svelte-1chs22a"&&(m.textContent=v),W=_(I),E=r(I,"SELECT",{class:!0});var L=h(E);C=r(L,"OPTION",{"data-svelte-h":!0}),D(C)!=="svelte-k83vpa"&&(C.textContent=F),x=r(L,"OPTION",{"data-svelte-h":!0}),D(x)!=="svelte-12mow8m"&&(x.textContent=j),T=r(L,"OPTION",{"data-svelte-h":!0}),D(T)!=="svelte-165xn7y"&&(T.textContent=u),b=r(L,"OPTION",{"data-svelte-h":!0}),D(b)!=="svelte-13gnule"&&(b.textContent=q),R=r(L,"OPTION",{"data-svelte-h":!0}),D(R)!=="svelte-1scslae"&&(R.textContent=U),L.forEach(i),I.forEach(i),G=_(V),A=r(V,"DIV",{});var M=h(A);z=r(M,"LABEL",{class:!0,"data-svelte-h":!0}),D(z)!=="svelte-1r5hr8t"&&(z.textContent=$),H=_(M),N=r(M,"INPUT",{type:!0,min:!0,max:!0,class:!0}),M.forEach(i),V.forEach(i),this.h()},h(){c(l,"class","block text-sm font-semibold text-gray-700 mb-2"),c(d,"type","text"),c(d,"placeholder","2024-2025"),c(d,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),c(m,"class","block text-sm font-semibold text-gray-700 mb-2"),C.__value="Term 1",ue(C,C.__value),x.__value="Term 2",ue(x,x.__value),T.__value="Term 3",ue(T,T.__value),b.__value="Semester 1",ue(b,b.__value),R.__value="Semester 2",ue(R,R.__value),c(E,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),n[6].term===void 0&&_t(()=>n[23].call(E)),c(z,"class","block text-sm font-semibold text-gray-700 mb-2"),c(N,"type","number"),c(N,"min","8"),c(N,"max","16"),c(N,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),c(t,"class","grid md:grid-cols-3 gap-4")},m(P,V){S(P,t,V),e(t,s),e(s,l),e(s,f),e(s,d),ue(d,n[6].academic_year),e(t,w),e(t,g),e(g,m),e(g,W),e(g,E),e(E,C),e(E,x),e(E,T),e(E,b),e(E,R),st(E,n[6].term,!0),e(t,G),e(t,A),e(A,z),e(A,H),e(A,N),ue(N,n[6].total_weeks),de||(re=[me(d,"input",n[22]),me(E,"change",n[23]),me(N,"input",n[24])],de=!0)},p(P,V){V[0]&320&&d.value!==P[6].academic_year&&ue(d,P[6].academic_year),V[0]&320&&st(E,P[6].term),V[0]&320&&ft(N.value)!==P[6].total_weeks&&ue(N,P[6].total_weeks)},d(P){P&&i(t),de=!1,mt(re)}}}function Ut(n){let t,s,l="Duration (minutes)",o,f,d,w;return{c(){t=a("div"),s=a("label"),s.textContent=l,o=p(),f=a("input"),this.h()},l(g){t=r(g,"DIV",{});var m=h(t);s=r(m,"LABEL",{class:!0,"data-svelte-h":!0}),D(s)!=="svelte-1scq3ao"&&(s.textContent=l),o=_(m),f=r(m,"INPUT",{type:!0,min:!0,max:!0,class:!0}),m.forEach(i),this.h()},h(){c(s,"class","block text-sm font-semibold text-gray-700 mb-2"),c(f,"type","number"),c(f,"min","30"),c(f,"max","180"),c(f,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500")},m(g,m){S(g,t,m),e(t,s),e(t,o),e(t,f),ue(f,n[6].duration_minutes),d||(w=me(f,"input",n[21]),d=!0)},p(g,m){m[0]&320&&ft(f.value)!==g[6].duration_minutes&&ue(f,g[6].duration_minutes)},d(g){g&&i(t),d=!1,w()}}}function Wt(n){let t,s="Course overview",l,o,f="Learning outcomes",d,w,g="Weekly breakdown",m,v,W="Assessment schedule",E,C,F="Resource planning",x,j,T="Evaluation criteria";return{c(){t=a("div"),t.textContent=s,l=p(),o=a("div"),o.textContent=f,d=p(),w=a("div"),w.textContent=g,m=p(),v=a("div"),v.textContent=W,E=p(),C=a("div"),C.textContent=F,x=p(),j=a("div"),j.textContent=T},l(u){t=r(u,"DIV",{"data-svelte-h":!0}),D(t)!=="svelte-1ge9zq4"&&(t.textContent=s),l=_(u),o=r(u,"DIV",{"data-svelte-h":!0}),D(o)!=="svelte-17a0nt5"&&(o.textContent=f),d=_(u),w=r(u,"DIV",{"data-svelte-h":!0}),D(w)!=="svelte-wav232"&&(w.textContent=g),m=_(u),v=r(u,"DIV",{"data-svelte-h":!0}),D(v)!=="svelte-1vhddjp"&&(v.textContent=W),E=_(u),C=r(u,"DIV",{"data-svelte-h":!0}),D(C)!=="svelte-hxh49r"&&(C.textContent=F),x=_(u),j=r(u,"DIV",{"data-svelte-h":!0}),D(j)!=="svelte-20wb1h"&&(j.textContent=T)},m(u,b){S(u,t,b),S(u,l,b),S(u,o,b),S(u,d,b),S(u,w,b),S(u,m,b),S(u,v,b),S(u,E,b),S(u,C,b),S(u,x,b),S(u,j,b)},d(u){u&&(i(t),i(l),i(o),i(d),i(w),i(m),i(v),i(E),i(C),i(x),i(j))}}}function Ft(n){let t,s="Learning objectives",l,o,f="Teaching methods",d,w,g="Resource requirements",m,v,W="Lesson structure & timing",E,C,F="Assessment methods",x,j,T="Homework assignments";return{c(){t=a("div"),t.textContent=s,l=p(),o=a("div"),o.textContent=f,d=p(),w=a("div"),w.textContent=g,m=p(),v=a("div"),v.textContent=W,E=p(),C=a("div"),C.textContent=F,x=p(),j=a("div"),j.textContent=T},l(u){t=r(u,"DIV",{"data-svelte-h":!0}),D(t)!=="svelte-b2l96m"&&(t.textContent=s),l=_(u),o=r(u,"DIV",{"data-svelte-h":!0}),D(o)!=="svelte-ngbour"&&(o.textContent=f),d=_(u),w=r(u,"DIV",{"data-svelte-h":!0}),D(w)!=="svelte-1phvrw4"&&(w.textContent=g),m=_(u),v=r(u,"DIV",{"data-svelte-h":!0}),D(v)!=="svelte-1k4gq4h"&&(v.textContent=W),E=_(u),C=r(u,"DIV",{"data-svelte-h":!0}),D(C)!=="svelte-147a0d2"&&(C.textContent=F),x=_(u),j=r(u,"DIV",{"data-svelte-h":!0}),D(j)!=="svelte-m2osj6"&&(j.textContent=T)},m(u,b){S(u,t,b),S(u,l,b),S(u,o,b),S(u,d,b),S(u,w,b),S(u,m,b),S(u,v,b),S(u,E,b),S(u,C,b),S(u,x,b),S(u,j,b)},d(u){u&&(i(t),i(l),i(o),i(d),i(w),i(m),i(v),i(E),i(C),i(x),i(j))}}}function zt(n){let t;return{c(){t=Q("Generate Document")},l(s){t=X(s,"Generate Document")},m(s,l){S(s,t,l)},d(s){s&&i(t)}}}function Jt(n){let t,s=`<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
              Generating...`;return{c(){t=a("div"),t.innerHTML=s,this.h()},l(l){t=r(l,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-1hisvq6"&&(t.innerHTML=s),this.h()},h(){c(t,"class","flex items-center justify-center gap-2")},m(l,o){S(l,t,o)},d(l){l&&i(t)}}}function Qt(n){var Xe,Ye;let t,s,l,o,f,d,w='<div class="w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-xl"></span></div> <div><h1 class="text-2xl font-bold text-gray-900">Lesson Planning Portal</h1> <p class="text-gray-600">AI-Powered RTB Compliant Document Generation</p></div>',g,m,v,W,E=(((Xe=n[0])==null?void 0:Xe.full_name)||((Ye=n[0])==null?void 0:Ye.username))+"",C,F,x,j="Back to Dashboard",T,u,b,q,R="Quick Generate",U,G,A,z,$='<div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-2xl"></span></div> <div><h3 class="text-lg font-bold text-gray-900">Session Plan Generator</h3> <p class="text-gray-600 text-sm">Generate detailed lesson session plans in under 1 minute</p></div>',H,N,de=`<div class="flex items-center gap-2 text-sm text-gray-600"><span class="w-2 h-2 bg-green-500 rounded-full"></span>
              RTB compliant templates</div> <div class="flex items-center gap-2 text-sm text-gray-600"><span class="w-2 h-2 bg-green-500 rounded-full"></span>
              Learning objectives &amp; assessments</div> <div class="flex items-center gap-2 text-sm text-gray-600"><span class="w-2 h-2 bg-green-500 rounded-full"></span>
              Professional PDF export</div>`,re,P,V="Generate Session Plan",B,I,L,M='<div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"><span class="text-purple-600 text-2xl"></span></div> <div><h3 class="text-lg font-bold text-gray-900">Scheme of Work Generator</h3> <p class="text-gray-600 text-sm">Create comprehensive term/semester planning documents</p></div>',De,ee,xe=`<div class="flex items-center gap-2 text-sm text-gray-600"><span class="w-2 h-2 bg-purple-500 rounded-full"></span>
              12-week structured breakdown</div> <div class="flex items-center gap-2 text-sm text-gray-600"><span class="w-2 h-2 bg-purple-500 rounded-full"></span>
              Assessment scheduling</div> <div class="flex items-center gap-2 text-sm text-gray-600"><span class="w-2 h-2 bg-purple-500 rounded-full"></span>
              Resource planning</div>`,ve,te,he="Generate Scheme of Work",ae,Z,le,oe,se,qe="Recent Session Plans",je,fe,ye=n[1].length+"",_e,pe,Pe,Je,ie,ke,Se,nt="Recent Schemes of Work",Ae,Y,Ie=n[2].length+"",ne,et,Re,ge,Ne,Qe='<h3 class="text-xl font-bold text-gray-900 mb-6 text-center">Why Use Our AI Lesson Planning System?</h3> <div class="grid md:grid-cols-3 gap-6"><div class="text-center"><div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-blue-600 text-2xl"></span></div> <h4 class="font-semibold text-gray-900 mb-2">Lightning Fast</h4> <p class="text-gray-600 text-sm">Generate professional documents in under 60 seconds with our AI engine</p></div> <div class="text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-green-600 text-2xl"></span></div> <h4 class="font-semibold text-gray-900 mb-2">RTB Compliant</h4> <p class="text-gray-600 text-sm">100% compliant with Rwanda Training Board standards and templates</p></div> <div class="text-center"><div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-purple-600 text-2xl"></span></div> <h4 class="font-semibold text-gray-900 mb-2">Professional Output</h4> <p class="text-gray-600 text-sm">Beautiful, print-ready PDFs that look exactly like official RTB documents</p></div></div>',Ce,Oe,Ue,Te;function y(O,ce){return O[3]?Mt:O[1].length===0?Ht:Ot}let K=y(n),k=K(n);function Ee(O,ce){return O[3]?qt:O[2].length===0?Gt:Bt}let He=Ee(n),we=He(n),J=n[4]&&Dt(n);return{c(){t=p(),s=a("div"),l=a("div"),o=a("div"),f=a("div"),d=a("div"),d.innerHTML=w,g=p(),m=a("div"),v=a("span"),W=Q("Welcome, "),C=Q(E),F=p(),x=a("button"),x.textContent=j,T=p(),u=a("div"),b=a("div"),q=a("h2"),q.textContent=R,U=p(),G=a("div"),A=a("div"),z=a("div"),z.innerHTML=$,H=p(),N=a("div"),N.innerHTML=de,re=p(),P=a("button"),P.textContent=V,B=p(),I=a("div"),L=a("div"),L.innerHTML=M,De=p(),ee=a("div"),ee.innerHTML=xe,ve=p(),te=a("button"),te.textContent=he,ae=p(),Z=a("div"),le=a("div"),oe=a("div"),se=a("h3"),se.textContent=qe,je=p(),fe=a("span"),_e=Q(ye),pe=Q(" Plans"),Pe=p(),k.c(),Je=p(),ie=a("div"),ke=a("div"),Se=a("h3"),Se.textContent=nt,Ae=p(),Y=a("span"),ne=Q(Ie),et=Q(" Schemes"),Re=p(),we.c(),ge=p(),Ne=a("div"),Ne.innerHTML=Qe,Ce=p(),J&&J.c(),Oe=bt(),this.h()},l(O){At("svelte-1each5p",gt.head).forEach(i),t=_(O),s=r(O,"DIV",{class:!0});var Ve=h(s);l=r(Ve,"DIV",{class:!0});var Me=h(l);o=r(Me,"DIV",{class:!0});var Ke=h(o);f=r(Ke,"DIV",{class:!0});var Be=h(f);d=r(Be,"DIV",{class:!0,"data-svelte-h":!0}),D(d)!=="svelte-18zoa0f"&&(d.innerHTML=w),g=_(Be),m=r(Be,"DIV",{class:!0});var Ze=h(m);v=r(Ze,"SPAN",{class:!0});var We=h(v);W=X(We,"Welcome, "),C=X(We,E),We.forEach(i),F=_(Ze),x=r(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),D(x)!=="svelte-a12cws"&&(x.textContent=j),Ze.forEach(i),Be.forEach(i),Ke.forEach(i),Me.forEach(i),T=_(Ve),u=r(Ve,"DIV",{class:!0});var Ge=h(u);b=r(Ge,"DIV",{class:!0});var $e=h(b);q=r($e,"H2",{class:!0,"data-svelte-h":!0}),D(q)!=="svelte-1it2217"&&(q.textContent=R),U=_($e),G=r($e,"DIV",{class:!0});var Le=h(G);A=r(Le,"DIV",{class:!0});var tt=h(A);z=r(tt,"DIV",{class:!0,"data-svelte-h":!0}),D(z)!=="svelte-fxzn08"&&(z.innerHTML=$),H=_(tt),N=r(tt,"DIV",{class:!0,"data-svelte-h":!0}),D(N)!=="svelte-2tb721"&&(N.innerHTML=de),re=_(tt),P=r(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),D(P)!=="svelte-1wms4an"&&(P.textContent=V),tt.forEach(i),B=_(Le),I=r(Le,"DIV",{class:!0});var lt=h(I);L=r(lt,"DIV",{class:!0,"data-svelte-h":!0}),D(L)!=="svelte-4f3pch"&&(L.innerHTML=M),De=_(lt),ee=r(lt,"DIV",{class:!0,"data-svelte-h":!0}),D(ee)!=="svelte-hd93uj"&&(ee.innerHTML=xe),ve=_(lt),te=r(lt,"BUTTON",{class:!0,"data-svelte-h":!0}),D(te)!=="svelte-j254u0"&&(te.textContent=he),lt.forEach(i),Le.forEach(i),$e.forEach(i),ae=_(Ge),Z=r(Ge,"DIV",{class:!0});var at=h(Z);le=r(at,"DIV",{class:!0});var rt=h(le);oe=r(rt,"DIV",{class:!0});var ot=h(oe);se=r(ot,"H3",{class:!0,"data-svelte-h":!0}),D(se)!=="svelte-1hlt3u7"&&(se.textContent=qe),je=_(ot),fe=r(ot,"SPAN",{class:!0});var vt=h(fe);_e=X(vt,ye),pe=X(vt," Plans"),vt.forEach(i),ot.forEach(i),Pe=_(rt),k.l(rt),rt.forEach(i),Je=_(at),ie=r(at,"DIV",{class:!0});var it=h(ie);ke=r(it,"DIV",{class:!0});var dt=h(ke);Se=r(dt,"H3",{class:!0,"data-svelte-h":!0}),D(Se)!=="svelte-ai1qjx"&&(Se.textContent=nt),Ae=_(dt),Y=r(dt,"SPAN",{class:!0});var ht=h(Y);ne=X(ht,Ie),et=X(ht," Schemes"),ht.forEach(i),dt.forEach(i),Re=_(it),we.l(it),it.forEach(i),at.forEach(i),ge=_(Ge),Ne=r(Ge,"DIV",{class:!0,"data-svelte-h":!0}),D(Ne)!=="svelte-1jjt1it"&&(Ne.innerHTML=Qe),Ge.forEach(i),Ve.forEach(i),Ce=_(O),J&&J.l(O),Oe=bt(),this.h()},h(){gt.title="Lesson Planning Portal - Morning Quiz System",c(d,"class","flex items-center gap-4"),c(v,"class","text-sm text-gray-600"),c(x,"class","bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"),c(m,"class","flex items-center gap-4"),c(f,"class","flex items-center justify-between"),c(o,"class","max-w-7xl mx-auto px-6 py-4"),c(l,"class","bg-white shadow-lg border-b-4 border-blue-600"),c(q,"class","text-xl font-bold text-gray-900 mb-4"),c(z,"class","flex items-center gap-4 mb-4"),c(N,"class","space-y-2 mb-4"),c(P,"class","w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors"),c(A,"class","bg-white rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-shadow"),c(L,"class","flex items-center gap-4 mb-4"),c(ee,"class","space-y-2 mb-4"),c(te,"class","w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-purple-700 transition-colors"),c(I,"class","bg-white rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-shadow"),c(G,"class","grid md:grid-cols-2 gap-6"),c(b,"class","mb-8"),c(se,"class","text-lg font-bold text-gray-900"),c(fe,"class","bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium"),c(oe,"class","flex items-center justify-between mb-6"),c(le,"class","bg-white rounded-xl shadow-lg p-6"),c(Se,"class","text-lg font-bold text-gray-900"),c(Y,"class","bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium"),c(ke,"class","flex items-center justify-between mb-6"),c(ie,"class","bg-white rounded-xl shadow-lg p-6"),c(Z,"class","grid lg:grid-cols-2 gap-8"),c(Ne,"class","mt-12 bg-white rounded-xl shadow-lg p-8"),c(u,"class","max-w-7xl mx-auto px-6 py-8"),c(s,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100")},m(O,ce){S(O,t,ce),S(O,s,ce),e(s,l),e(l,o),e(o,f),e(f,d),e(f,g),e(f,m),e(m,v),e(v,W),e(v,C),e(m,F),e(m,x),e(s,T),e(s,u),e(u,b),e(b,q),e(b,U),e(b,G),e(G,A),e(A,z),e(A,H),e(A,N),e(A,re),e(A,P),e(G,B),e(G,I),e(I,L),e(I,De),e(I,ee),e(I,ve),e(I,te),e(u,ae),e(u,Z),e(Z,le),e(le,oe),e(oe,se),e(oe,je),e(oe,fe),e(fe,_e),e(fe,pe),e(le,Pe),k.m(le,null),e(Z,Je),e(Z,ie),e(ie,ke),e(ke,Se),e(ke,Ae),e(ke,Y),e(Y,ne),e(Y,et),e(ie,Re),we.m(ie,null),e(u,ge),e(u,Ne),S(O,Ce,ce),J&&J.m(O,ce),S(O,Oe,ce),Ue||(Te=[me(x,"click",n[13]),me(P,"click",n[14]),me(te,"click",n[15])],Ue=!0)},p(O,ce){var Ve,Me;ce[0]&1&&E!==(E=(((Ve=O[0])==null?void 0:Ve.full_name)||((Me=O[0])==null?void 0:Me.username))+"")&&be(C,E),ce[0]&2&&ye!==(ye=O[1].length+"")&&be(_e,ye),K===(K=y(O))&&k?k.p(O,ce):(k.d(1),k=K(O),k&&(k.c(),k.m(le,null))),ce[0]&4&&Ie!==(Ie=O[2].length+"")&&be(ne,Ie),He===(He=Ee(O))&&we?we.p(O,ce):(we.d(1),we=He(O),we&&(we.c(),we.m(ie,null))),O[4]?J?J.p(O,ce):(J=Dt(O),J.c(),J.m(Oe.parentNode,Oe)):J&&(J.d(1),J=null)},i:ze,o:ze,d(O){O&&(i(t),i(s),i(Ce),i(Oe)),k.d(),we.d(),J&&J.d(O),Ue=!1,mt(Te)}}}async function Vt(n,t){try{const s=localStorage.getItem("token"),l=n==="session_plan"?`/api/session-plans/${t}/export/pdf`:`/api/schemes-of-work/${t}/export/pdf`,o=await fetch(l,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const f=await o.blob(),d=window.URL.createObjectURL(f),w=document.createElement("a");w.href=d,w.download=`${n}_${t}.pdf`,document.body.appendChild(w),w.click(),window.URL.revokeObjectURL(d),document.body.removeChild(w)}else alert("Failed to export document")}catch(s){console.error("Error exporting document:",s),alert("Failed to export document")}}function Xt(n,t,s){let l=null,o=[],f=[],d=[],w=!1,g=!1,m="session_plan",v={lesson_title:"",department:"",level:"",duration_minutes:90,academic_year:"2024-2025",term:"Term 1",total_weeks:12,additional_requirements:""},W=null,E=!1;const C=["Software Development","Computer System and Architecture","Land Surveying","Building Construction"],F=["Level 3","Level 4","Level 5"];Pt(async()=>{{const V=localStorage.getItem("token"),B=localStorage.getItem("user");if(!V||!B){ct("/");return}try{if(s(0,l=JSON.parse(B)),l.role!=="teacher"&&l.role!=="admin"){ct("/");return}await x()}catch(I){console.error("Error loading user data:",I),ct("/")}}});async function x(){s(3,w=!0);try{const B={Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},I=await fetch("/api/lessons",{headers:B});I.ok&&(o=await I.json());const L=await fetch("/api/session-plans",{headers:B});L.ok&&s(1,f=await L.json());const M=await fetch("/api/schemes-of-work",{headers:B});M.ok&&s(2,d=await M.json())}catch(V){console.error("Error loading data:",V)}finally{s(3,w=!1)}}async function j(){if(!v.lesson_title||!v.department||!v.level){alert("Please fill in all required fields");return}s(7,E=!0);try{const V=localStorage.getItem("token"),I=await fetch(m==="session_plan"?"/api/ai/generate-session-plan":"/api/ai/generate-scheme-of-work",{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify({generation_type:m,lesson_title:v.lesson_title,department:v.department,level:v.level,duration_minutes:v.duration_minutes,academic_year:v.academic_year,term:v.term,total_weeks:v.total_weeks,additional_requirements:v.additional_requirements})});if(I.ok){const L=await I.json();W=L,s(4,g=!1),alert(`${m==="session_plan"?"Session Plan":"Scheme of Work"} generated successfully! Processing time: ${L.processing_time.toFixed(2)}s`),await x()}else{const L=await I.json();alert(`Generation failed: ${L.detail}`)}}catch(V){console.error("Error generating document:",V),alert("Failed to generate document. Please try again.")}finally{s(7,E=!1)}}function T(V){s(5,m=V),s(4,g=!0),W=null}function u(){s(4,g=!1),s(6,v={lesson_title:"",department:"",level:"",duration_minutes:90,academic_year:"2024-2025",term:"Term 1",total_weeks:12,additional_requirements:""})}const b=()=>ct("/teacher"),q=()=>T("session_plan"),R=()=>T("scheme_of_work"),U=V=>Vt("session_plan",V.id),G=V=>Vt("scheme_of_work",V.id);function A(){v.lesson_title=this.value,s(6,v),s(8,C)}function z(){v.department=pt(this),s(6,v),s(8,C)}function $(){v.level=pt(this),s(6,v),s(8,C)}function H(){v.duration_minutes=ft(this.value),s(6,v),s(8,C)}function N(){v.academic_year=this.value,s(6,v),s(8,C)}function de(){v.term=pt(this),s(6,v),s(8,C)}function re(){v.total_weeks=ft(this.value),s(6,v),s(8,C)}function P(){v.additional_requirements=this.value,s(6,v),s(8,C)}return[l,f,d,w,g,m,v,E,C,F,j,T,u,b,q,R,U,G,A,z,$,H,N,de,re,P]}class tl extends St{constructor(t){super(),jt(this,t,Xt,Qt,Lt,{},null,[-1,-1])}}export{tl as component};
