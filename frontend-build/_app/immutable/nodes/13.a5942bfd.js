import{s as We,n as Qe,o as Xe}from"../chunks/scheduler.27fe8299.js";import{S as Ze,i as $e,s as f,g as s,m as j,D as et,f as n,c as h,h as l,j as c,x as w,n as B,k as a,a as Re,y as e,z as Ke,o as J,A as tt}from"../chunks/index.e0a53316.js";import{e as Fe}from"../chunks/each.d148e7a3.js";import{g as st}from"../chunks/navigation.985c25e8.js";import{d as lt}from"../chunks/api.5fae4f57.js";function Oe(i,r,o){const t=i.slice();return t[9]=r[o],t}function Ye(i){let r,o,t,d="‚ö†Ô∏è",u,v,y;return{c(){r=s("div"),o=s("div"),t=s("div"),t.textContent=d,u=f(),v=s("div"),y=j(i[2]),this.h()},l(b){r=l(b,"DIV",{class:!0});var _=c(r);o=l(_,"DIV",{class:!0});var x=c(o);t=l(x,"DIV",{class:!0,"data-svelte-h":!0}),w(t)!=="svelte-1lytrla"&&(t.textContent=d),u=h(x),v=l(x,"DIV",{class:!0});var T=c(v);y=B(T,i[2]),T.forEach(n),x.forEach(n),_.forEach(n),this.h()},h(){a(t,"class","text-red-400"),a(v,"class","ml-3 text-red-700"),a(o,"class","flex"),a(r,"class","bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg")},m(b,_){Re(b,r,_),e(r,o),e(o,t),e(o,u),e(o,v),e(v,y)},p(b,_){_&4&&J(y,b[2])},d(b){b&&n(r)}}}function at(i){let r,o=Fe(i[0]),t=[];for(let d=0;d<o.length;d+=1)t[d]=Ge(Oe(i,o,d));return{c(){r=s("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){r=l(d,"DIV",{class:!0});var u=c(r);for(let v=0;v<t.length;v+=1)t[v].l(u);u.forEach(n),this.h()},h(){a(r,"class","space-y-4")},m(d,u){Re(d,r,u);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(r,null)},p(d,u){if(u&129){o=Fe(d[0]);let v;for(v=0;v<o.length;v+=1){const y=Oe(d,o,v);t[v]?t[v].p(y,u):(t[v]=Ge(y),t[v].c(),t[v].m(r,null))}for(;v<t.length;v+=1)t[v].d(1);t.length=o.length}},d(d){d&&n(r),tt(t,d)}}}function rt(i){let r,o='<div class="text-6xl mb-4">üìù</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No Quizzes Yet</h3> <p class="text-gray-600">Create a quiz first to see submissions here.</p>';return{c(){r=s("div"),r.innerHTML=o,this.h()},l(t){r=l(t,"DIV",{class:!0,"data-svelte-h":!0}),w(r)!=="svelte-z9e62g"&&(r.innerHTML=o),this.h()},h(){a(r,"class","text-center py-12")},m(t,d){Re(t,r,d)},p:Qe,d(t){t&&n(r)}}}function it(i){let r,o='<div class="text-4xl mb-4">‚è≥</div> <p class="text-gray-600">Loading quizzes...</p>';return{c(){r=s("div"),r.innerHTML=o,this.h()},l(t){r=l(t,"DIV",{class:!0,"data-svelte-h":!0}),w(r)!=="svelte-1a4iuc7"&&(r.innerHTML=o),this.h()},h(){a(r,"class","text-center py-12")},m(t,d){Re(t,r,d)},p:Qe,d(t){t&&n(r)}}}function Ge(i){let r,o,t,d,u,v="üìù",y,b,_,x=i[9].title+"",T,C,q,E=i[9].department+"",ie,ne,P=i[9].level+"",p,z,g,k,oe,Se="Status",K,L,de=i[9].is_active?"‚úÖ Active":"‚è∏Ô∏è Inactive",ge,N,Te,U,A,W="Results",X,ve,ue=i[9].results_released?"‚úÖ Released":"‚è≥ Pending",F,Z,be,O,R,Me="Created",Ce,Q,H=Je(i[9].created_at)+"",Y,Le,G,S,fe="Quiz ID",pe,$,ee,De=i[9].id+"",Ie,te,ce,se,V="üîç View Submissions ‚Üí",Ae,Ve,M;function m(){return i[8](i[9])}return{c(){r=s("div"),o=s("div"),t=s("div"),d=s("div"),u=s("span"),u.textContent=v,y=f(),b=s("div"),_=s("h3"),T=j(x),C=f(),q=s("p"),ie=j(E),ne=j(" - "),p=j(P),z=f(),g=s("div"),k=s("div"),oe=s("div"),oe.textContent=Se,K=f(),L=s("div"),ge=j(de),Te=f(),U=s("div"),A=s("div"),A.textContent=W,X=f(),ve=s("div"),F=j(ue),be=f(),O=s("div"),R=s("div"),R.textContent=Me,Ce=f(),Q=s("div"),Y=j(H),Le=f(),G=s("div"),S=s("div"),S.textContent=fe,pe=f(),$=s("div"),ee=j("#"),Ie=j(De),te=f(),ce=s("div"),se=s("button"),se.textContent=V,Ae=f(),this.h()},l(D){r=l(D,"DIV",{class:!0});var I=c(r);o=l(I,"DIV",{class:!0});var le=c(o);t=l(le,"DIV",{class:!0});var ye=c(t);d=l(ye,"DIV",{class:!0});var he=c(d);u=l(he,"SPAN",{class:!0,"data-svelte-h":!0}),w(u)!=="svelte-inarcc"&&(u.textContent=v),y=h(he),b=l(he,"DIV",{});var _e=c(b);_=l(_e,"H3",{class:!0});var je=c(_);T=B(je,x),je.forEach(n),C=h(_e),q=l(_e,"P",{class:!0});var ae=c(q);ie=B(ae,E),ne=B(ae," - "),p=B(ae,P),ae.forEach(n),_e.forEach(n),he.forEach(n),z=h(ye),g=l(ye,"DIV",{class:!0});var re=c(g);k=l(re,"DIV",{class:!0});var me=c(k);oe=l(me,"DIV",{class:!0,"data-svelte-h":!0}),w(oe)!=="svelte-1wa6p0k"&&(oe.textContent=Se),K=h(me),L=l(me,"DIV",{class:!0});var Ee=c(L);ge=B(Ee,de),Ee.forEach(n),me.forEach(n),Te=h(re),U=l(re,"DIV",{class:!0});var we=c(U);A=l(we,"DIV",{class:!0,"data-svelte-h":!0}),w(A)!=="svelte-10fin4a"&&(A.textContent=W),X=h(we),ve=l(we,"DIV",{class:!0});var Be=c(ve);F=B(Be,ue),Be.forEach(n),we.forEach(n),be=h(re),O=l(re,"DIV",{class:!0});var xe=c(O);R=l(xe,"DIV",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-1moszuo"&&(R.textContent=Me),Ce=h(xe),Q=l(xe,"DIV",{class:!0});var ze=c(Q);Y=B(ze,H),ze.forEach(n),xe.forEach(n),Le=h(re),G=l(re,"DIV",{class:!0});var ke=c(G);S=l(ke,"DIV",{class:!0,"data-svelte-h":!0}),w(S)!=="svelte-1mh0kz2"&&(S.textContent=fe),pe=h(ke),$=l(ke,"DIV",{class:!0});var He=c($);ee=B(He,"#"),Ie=B(He,De),He.forEach(n),ke.forEach(n),re.forEach(n),ye.forEach(n),le.forEach(n),te=h(I),ce=l(I,"DIV",{class:!0});var qe=c(ce);se=l(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),w(se)!=="svelte-s256q"&&(se.textContent=V),qe.forEach(n),Ae=h(I),I.forEach(n),this.h()},h(){a(u,"class","text-2xl mr-3"),a(_,"class","text-lg font-semibold text-gray-900"),a(q,"class","text-sm text-gray-600"),a(d,"class","flex items-center mb-3"),a(oe,"class","text-xs text-gray-500 mb-1"),a(L,"class",N="text-sm font-medium "+(i[9].is_active?"text-green-600":"text-gray-600")),a(k,"class","bg-gray-50 rounded-lg p-3 border border-gray-200"),a(A,"class","text-xs text-gray-500 mb-1"),a(ve,"class",Z="text-sm font-medium "+(i[9].results_released?"text-green-600":"text-orange-600")),a(U,"class","bg-gray-50 rounded-lg p-3 border border-gray-200"),a(R,"class","text-xs text-gray-500 mb-1"),a(Q,"class","text-sm font-medium text-gray-700"),a(O,"class","bg-gray-50 rounded-lg p-3 border border-gray-200"),a(S,"class","text-xs text-gray-500 mb-1"),a($,"class","text-sm font-medium text-gray-700"),a(G,"class","bg-gray-50 rounded-lg p-3 border border-gray-200"),a(g,"class","grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"),a(t,"class","flex-1"),a(o,"class","flex justify-between items-start"),a(se,"class","bg-gradient-to-r from-green-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all transform hover:scale-105"),a(ce,"class","flex justify-end"),a(r,"class","border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all")},m(D,I){Re(D,r,I),e(r,o),e(o,t),e(t,d),e(d,u),e(d,y),e(d,b),e(b,_),e(_,T),e(b,C),e(b,q),e(q,ie),e(q,ne),e(q,p),e(t,z),e(t,g),e(g,k),e(k,oe),e(k,K),e(k,L),e(L,ge),e(g,Te),e(g,U),e(U,A),e(U,X),e(U,ve),e(ve,F),e(g,be),e(g,O),e(O,R),e(O,Ce),e(O,Q),e(Q,Y),e(g,Le),e(g,G),e(G,S),e(G,pe),e(G,$),e($,ee),e($,Ie),e(r,te),e(r,ce),e(ce,se),e(r,Ae),Ve||(M=Ke(se,"click",m),Ve=!0)},p(D,I){i=D,I&1&&x!==(x=i[9].title+"")&&J(T,x),I&1&&E!==(E=i[9].department+"")&&J(ie,E),I&1&&P!==(P=i[9].level+"")&&J(p,P),I&1&&de!==(de=i[9].is_active?"‚úÖ Active":"‚è∏Ô∏è Inactive")&&J(ge,de),I&1&&N!==(N="text-sm font-medium "+(i[9].is_active?"text-green-600":"text-gray-600"))&&a(L,"class",N),I&1&&ue!==(ue=i[9].results_released?"‚úÖ Released":"‚è≥ Pending")&&J(F,ue),I&1&&Z!==(Z="text-sm font-medium "+(i[9].results_released?"text-green-600":"text-orange-600"))&&a(ve,"class",Z),I&1&&H!==(H=Je(i[9].created_at)+"")&&J(Y,H),I&1&&De!==(De=i[9].id+"")&&J(Ie,De)},d(D){D&&n(r),Ve=!1,M()}}}function nt(i){let r,o,t,d,u,v,y='<h1 class="text-3xl font-bold text-gray-900 mb-2">üìã Review Quiz Submissions</h1> <p class="text-gray-600">Review student submissions and release results</p>',b,_,x,T=i[1]?"üîÑ Refreshing...":"üîÑ Refresh",C,q,E,ie="‚Üê Back to Dashboard",ne,P,p,z,g,k,oe="‚è≥",Se,K,L,de,ge,N,Te="Pending Reviews",U,A,W,X,ve="üìù",ue,F,Z,be,O,R,Me="Unique Quizzes",Ce,Q,H,Y,Le="üë•",G,S,fe,pe,$,ee,De="Students",Ie,te,ce,se,V=i[2]&&Ye(i);function Ae(m,D){return m[1]?it:m[0].length===0?rt:at}let Ve=Ae(i),M=Ve(i);return{c(){r=f(),o=s("div"),t=s("div"),d=s("div"),u=s("div"),v=s("div"),v.innerHTML=y,b=f(),_=s("div"),x=s("button"),C=j(T),q=f(),E=s("a"),E.textContent=ie,ne=f(),V&&V.c(),P=f(),p=s("div"),z=s("div"),g=s("div"),k=s("div"),k.textContent=oe,Se=f(),K=s("div"),L=s("div"),de=j(i[3]),ge=f(),N=s("div"),N.textContent=Te,U=f(),A=s("div"),W=s("div"),X=s("div"),X.textContent=ve,ue=f(),F=s("div"),Z=s("div"),be=j(i[4]),O=f(),R=s("div"),R.textContent=Me,Ce=f(),Q=s("div"),H=s("div"),Y=s("div"),Y.textContent=Le,G=f(),S=s("div"),fe=s("div"),pe=j(i[5]),$=f(),ee=s("div"),ee.textContent=De,Ie=f(),te=s("div"),M.c(),this.h()},l(m){et("svelte-1oownkp",document.head).forEach(n),r=h(m),o=l(m,"DIV",{class:!0});var I=c(o);t=l(I,"DIV",{class:!0});var le=c(t);d=l(le,"DIV",{class:!0});var ye=c(d);u=l(ye,"DIV",{class:!0});var he=c(u);v=l(he,"DIV",{"data-svelte-h":!0}),w(v)!=="svelte-149rn19"&&(v.innerHTML=y),b=h(he),_=l(he,"DIV",{class:!0});var _e=c(_);x=l(_e,"BUTTON",{class:!0});var je=c(x);C=B(je,T),je.forEach(n),q=h(_e),E=l(_e,"A",{href:!0,class:!0,"data-svelte-h":!0}),w(E)!=="svelte-1lz2xom"&&(E.textContent=ie),_e.forEach(n),he.forEach(n),ye.forEach(n),ne=h(le),V&&V.l(le),P=h(le),p=l(le,"DIV",{class:!0});var ae=c(p);z=l(ae,"DIV",{class:!0});var re=c(z);g=l(re,"DIV",{class:!0});var me=c(g);k=l(me,"DIV",{class:!0,"data-svelte-h":!0}),w(k)!=="svelte-vs32qm"&&(k.textContent=oe),Se=h(me),K=l(me,"DIV",{});var Ee=c(K);L=l(Ee,"DIV",{class:!0});var we=c(L);de=B(we,i[3]),we.forEach(n),ge=h(Ee),N=l(Ee,"DIV",{class:!0,"data-svelte-h":!0}),w(N)!=="svelte-16u12x"&&(N.textContent=Te),Ee.forEach(n),me.forEach(n),re.forEach(n),U=h(ae),A=l(ae,"DIV",{class:!0});var Be=c(A);W=l(Be,"DIV",{class:!0});var xe=c(W);X=l(xe,"DIV",{class:!0,"data-svelte-h":!0}),w(X)!=="svelte-1xxd2cr"&&(X.textContent=ve),ue=h(xe),F=l(xe,"DIV",{});var ze=c(F);Z=l(ze,"DIV",{class:!0});var ke=c(Z);be=B(ke,i[4]),ke.forEach(n),O=h(ze),R=l(ze,"DIV",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-19sw8xn"&&(R.textContent=Me),ze.forEach(n),xe.forEach(n),Be.forEach(n),Ce=h(ae),Q=l(ae,"DIV",{class:!0});var He=c(Q);H=l(He,"DIV",{class:!0});var qe=c(H);Y=l(qe,"DIV",{class:!0,"data-svelte-h":!0}),w(Y)!=="svelte-zdyxsz"&&(Y.textContent=Le),G=h(qe),S=l(qe,"DIV",{});var Pe=c(S);fe=l(Pe,"DIV",{class:!0});var Ne=c(fe);pe=B(Ne,i[5]),Ne.forEach(n),$=h(Pe),ee=l(Pe,"DIV",{class:!0,"data-svelte-h":!0}),w(ee)!=="svelte-1w3nm3h"&&(ee.textContent=De),Pe.forEach(n),qe.forEach(n),He.forEach(n),ae.forEach(n),Ie=h(le),te=l(le,"DIV",{class:!0});var Ue=c(te);M.l(Ue),Ue.forEach(n),le.forEach(n),I.forEach(n),this.h()},h(){document.title="Review Submissions - Teacher Dashboard",a(x,"class","bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"),x.disabled=i[1],a(E,"href","/teacher"),a(E,"class","bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors"),a(_,"class","flex items-center space-x-4"),a(u,"class","flex items-center justify-between"),a(d,"class","mb-8"),a(k,"class","text-4xl mr-4"),a(L,"class","text-3xl font-bold text-orange-600"),a(N,"class","text-gray-600 text-sm"),a(g,"class","flex items-center"),a(z,"class","bg-white rounded-xl shadow-sm border border-gray-100 p-6"),a(X,"class","text-4xl mr-4"),a(Z,"class","text-3xl font-bold text-blue-600"),a(R,"class","text-gray-600 text-sm"),a(W,"class","flex items-center"),a(A,"class","bg-white rounded-xl shadow-sm border border-gray-100 p-6"),a(Y,"class","text-4xl mr-4"),a(fe,"class","text-3xl font-bold text-green-600"),a(ee,"class","text-gray-600 text-sm"),a(H,"class","flex items-center"),a(Q,"class","bg-white rounded-xl shadow-sm border border-gray-100 p-6"),a(p,"class","grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"),a(te,"class","bg-white rounded-xl shadow-sm border border-gray-100 p-6"),a(t,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"),a(o,"class","min-h-screen bg-gradient-to-br from-green-50 to-blue-100")},m(m,D){Re(m,r,D),Re(m,o,D),e(o,t),e(t,d),e(d,u),e(u,v),e(u,b),e(u,_),e(_,x),e(x,C),e(_,q),e(_,E),e(t,ne),V&&V.m(t,null),e(t,P),e(t,p),e(p,z),e(z,g),e(g,k),e(g,Se),e(g,K),e(K,L),e(L,de),e(K,ge),e(K,N),e(p,U),e(p,A),e(A,W),e(W,X),e(W,ue),e(W,F),e(F,Z),e(Z,be),e(F,O),e(F,R),e(p,Ce),e(p,Q),e(Q,H),e(H,Y),e(H,G),e(H,S),e(S,fe),e(fe,pe),e(S,$),e(S,ee),e(t,Ie),e(t,te),M.m(te,null),ce||(se=Ke(x,"click",i[6]),ce=!0)},p(m,[D]){D&2&&T!==(T=m[1]?"üîÑ Refreshing...":"üîÑ Refresh")&&J(C,T),D&2&&(x.disabled=m[1]),m[2]?V?V.p(m,D):(V=Ye(m),V.c(),V.m(t,P)):V&&(V.d(1),V=null),D&8&&J(de,m[3]),D&16&&J(be,m[4]),D&32&&J(pe,m[5]),Ve===(Ve=Ae(m))&&M?M.p(m,D):(M.d(1),M=Ve(m),M&&(M.c(),M.m(te,null)))},i:Qe,o:Qe,d(m){m&&(n(r),n(o)),V&&V.d(),M.d(),ce=!1,se()}}}function Je(i){return new Date(i).toLocaleString()}function ot(i,r,o){let t=[],d=!1,u="",v=0,y=0,b=0;Xe(async()=>{await _()});async function _(){try{o(1,d=!0),o(2,u="");const C=localStorage.getItem("token"),q=lt.baseURL,E=await fetch(`${q}/quizzes`,{headers:{Authorization:`Bearer ${C}`}});if(!E.ok)throw new Error("Failed to load quizzes");o(0,t=await E.json()),o(4,y=t.length);let ie=0,ne=new Set;for(const P of t)try{const p=await fetch(`${q}/teacher/quiz-submissions/${P.id}`,{headers:{Authorization:`Bearer ${C}`}});if(p.ok){const z=await p.json();z.submissions&&z.submissions.length>0&&(z.results_released||(ie+=z.submissions.length),z.submissions.forEach(g=>ne.add(g.student_id)))}}catch(p){console.error(`Failed to load submissions for quiz ${P.id}:`,p)}o(3,v=ie),o(5,b=ne.size)}catch(C){o(2,u=C.message),console.error("Load quizzes error:",C)}finally{o(1,d=!1)}}function x(C){st(`/teacher/reviews/quiz/${C}`)}return[t,d,u,v,y,b,_,x,C=>x(C.id)]}class ht extends Ze{constructor(r){super(),$e(this,r,ot,nt,We,{})}}export{ht as component};
