import{s as ml,n as $e,r as ht,o as gl,e as Ze}from"../chunks/scheduler.27fe8299.js";import{S as Cl,i as kl,g as c,s as E,m as M,e as ft,h as u,j as b,x as V,c as w,n as H,f as _,k as h,a as j,y as r,z as X,o as Ae,E as B,H as de,A as Ye,J as gt,I as Ge}from"../chunks/index.e0a53316.js";import{e as oe}from"../chunks/each.d148e7a3.js";import{g as xt}from"../chunks/navigation.985c25e8.js";function Et(l,e,t){const n=l.slice();return n[66]=e[t],n}function wt(l,e,t){const n=l.slice();return n[66]=e[t],n[69]=e,n[70]=t,n}function Tt(l,e,t){const n=l.slice();return n[71]=e[t],n}function yt(l,e,t){const n=l.slice();return n[74]=e[t],n}function It(l,e,t){const n=l.slice();return n[77]=e[t],n}function Lt(l,e,t){const n=l.slice();return n[80]=e[t][0],n[81]=e[t][1],n}function Ot(l,e,t){const n=l.slice();return n[66]=e[t],n}function qt(l,e,t){const n=l.slice();return n[66]=e[t],n[86]=e,n[70]=t,n}function Dt(l,e,t){const n=l.slice();return n[71]=e[t],n}function Nt(l,e,t){const n=l.slice();return n[74]=e[t],n}function St(l,e,t){const n=l.slice();return n[77]=e[t],n}function Pt(l,e,t){const n=l.slice();return n[80]=e[t][0],n[81]=e[t][1],n}function Vt(l,e,t){const n=l.slice();return n[71]=e[t],n}function At(l,e,t){const n=l.slice();return n[74]=e[t],n}function Bt(l,e,t){const n=l.slice();return n[77]=e[t],n}function Qt(l,e,t){const n=l.slice();return n[101]=e[t],n}function Ut(l,e,t){const n=l.slice();return n[66]=e[t],n[70]=t,n}function jt(l){let e,t,n;return{c(){e=c("div"),t=c("p"),n=M(l[3]),this.h()},l(s){e=u(s,"DIV",{class:!0});var i=b(e);t=u(i,"P",{class:!0});var o=b(t);n=H(o,l[3]),o.forEach(_),i.forEach(_),this.h()},h(){h(t,"class","text-red-800"),h(e,"class","bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-lg")},m(s,i){j(s,e,i),r(e,t),r(t,n)},p(s,i){i[0]&8&&Ae(n,s[3])},d(s){s&&_(e)}}}function Ft(l){let e,t,n;return{c(){e=c("div"),t=c("p"),n=M(l[4]),this.h()},l(s){e=u(s,"DIV",{class:!0});var i=b(e);t=u(i,"P",{class:!0});var o=b(t);n=H(o,l[4]),o.forEach(_),i.forEach(_),this.h()},h(){h(t,"class","text-green-800"),h(e,"class","bg-green-50 border-l-4 border-green-500 p-4 mb-6 rounded-lg")},m(s,i){j(s,e,i),r(e,t),r(t,n)},p(s,i){i[0]&16&&Ae(n,s[4])},d(s){s&&_(e)}}}function Mt(l){let e,t,n,s,i=l[0].length+"",o,a,d,v,p="Create New",g,f,m;function C(D,O){return D[2]?wl:D[0].length===0?El:xl}let T=C(l),I=T(l);return{c(){e=c("div"),t=c("div"),n=c("h2"),s=M("Your Questions ("),o=M(i),a=M(")"),d=E(),v=c("button"),v.textContent=p,g=E(),I.c(),this.h()},l(D){e=u(D,"DIV",{class:!0});var O=b(e);t=u(O,"DIV",{class:!0});var te=b(t);n=u(te,"H2",{class:!0});var K=b(n);s=H(K,"Your Questions ("),o=H(K,i),a=H(K,")"),K.forEach(_),d=w(te),v=u(te,"BUTTON",{class:!0,"data-svelte-h":!0}),V(v)!=="svelte-uufe00"&&(v.textContent=p),te.forEach(_),g=w(O),I.l(O),O.forEach(_),this.h()},h(){h(n,"class","text-2xl font-bold"),h(v,"class","bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all"),h(t,"class","flex justify-between items-center mb-6"),h(e,"class","bg-white rounded-2xl shadow-xl p-6")},m(D,O){j(D,e,O),r(e,t),r(t,n),r(n,s),r(n,o),r(n,a),r(t,d),r(t,v),r(e,g),I.m(e,null),f||(m=X(v,"click",l[25]),f=!0)},p(D,O){O[0]&1&&i!==(i=D[0].length+"")&&Ae(o,i),T===(T=C(D))&&I?I.p(D,O):(I.d(1),I=T(D),I&&(I.c(),I.m(e,null)))},d(D){D&&_(e),I.d(),f=!1,m()}}}function xl(l){let e,t=oe(l[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Yt(Qt(l,t,s));return{c(){e=c("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=u(s,"DIV",{class:!0});var i=b(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(_),this.h()},h(){h(e,"class","space-y-4")},m(s,i){j(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&335873){t=oe(s[0]);let o;for(o=0;o<t.length;o+=1){const a=Qt(s,t,o);n[o]?n[o].p(a,i):(n[o]=Yt(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&_(e),Ye(n,s)}}}function El(l){let e,t,n,s,i="No questions yet. Create your first question!",o,a,d,v="Create Question",p,g,f="Upload Questions",m,C;return{c(){e=c("div"),t=c("div"),n=E(),s=c("p"),s.textContent=i,o=E(),a=c("div"),d=c("button"),d.textContent=v,p=E(),g=c("button"),g.textContent=f,this.h()},l(T){e=u(T,"DIV",{class:!0});var I=b(e);t=u(I,"DIV",{class:!0}),b(t).forEach(_),n=w(I),s=u(I,"P",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1rjxsro"&&(s.textContent=i),o=w(I),a=u(I,"DIV",{class:!0});var D=b(a);d=u(D,"BUTTON",{class:!0,"data-svelte-h":!0}),V(d)!=="svelte-1pjnq03"&&(d.textContent=v),p=w(D),g=u(D,"BUTTON",{class:!0,"data-svelte-h":!0}),V(g)!=="svelte-x56vj2"&&(g.textContent=f),D.forEach(_),I.forEach(_),this.h()},h(){h(t,"class","text-6xl mb-4"),h(s,"class","text-gray-600 text-lg mb-4"),h(d,"class","bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all"),h(g,"class","bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all"),h(a,"class","flex justify-center space-x-4"),h(e,"class","text-center py-12")},m(T,I){j(T,e,I),r(e,t),r(e,n),r(e,s),r(e,o),r(e,a),r(a,d),r(a,p),r(a,g),m||(C=[X(d,"click",l[26]),X(g,"click",l[27])],m=!0)},p:$e,d(T){T&&_(e),m=!1,ht(C)}}}function wl(l){let e,t='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div> <p class="text-gray-600 mt-4">Loading questions...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(n){e=u(n,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-17zprnz"&&(e.innerHTML=t),this.h()},h(){h(e,"class","text-center py-12")},m(n,s){j(n,e,s)},p:$e,d(n){n&&_(e)}}}function Ht(l){let e,t=oe(l[101].options),n=[];for(let s=0;s<t.length;s+=1)n[s]=Jt(Ut(l,t,s));return{c(){e=c("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=u(s,"DIV",{class:!0});var i=b(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(_),this.h()},h(){h(e,"class","mt-3 space-y-1")},m(s,i){j(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&1){t=oe(s[101].options);let o;for(o=0;o<t.length;o+=1){const a=Ut(s,t,o);n[o]?n[o].p(a,i):(n[o]=Jt(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&_(e),Ye(n,s)}}}function zt(l){let e;return{c(){e=c("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),b(e).forEach(_),this.h()},h(){h(e,"class","ml-2")},m(t,n){j(t,e,n)},d(t){t&&_(e)}}}function Jt(l){let e,t,n=String.fromCharCode(65+l[70])+"",s,i,o,a,d=l[66]+"",v,p,g,f,m=l[66]===l[101].correct_answer&&zt();return{c(){e=c("div"),t=c("span"),s=M(n),i=M("."),o=E(),a=c("span"),v=M(d),p=E(),m&&m.c(),f=E(),this.h()},l(C){e=u(C,"DIV",{class:!0});var T=b(e);t=u(T,"SPAN",{class:!0});var I=b(t);s=H(I,n),i=H(I,"."),I.forEach(_),o=w(T),a=u(T,"SPAN",{class:!0});var D=b(a);v=H(D,d),p=w(D),m&&m.l(D),D.forEach(_),f=w(T),T.forEach(_),this.h()},h(){h(t,"class","text-gray-500"),h(a,"class",g=l[66]===l[101].correct_answer?"text-green-600 font-semibold":"text-gray-700"),h(e,"class","flex items-center space-x-2")},m(C,T){j(C,e,T),r(e,t),r(t,s),r(t,i),r(e,o),r(e,a),r(a,v),r(a,p),m&&m.m(a,null),r(e,f)},p(C,T){T[0]&1&&d!==(d=C[66]+"")&&Ae(v,d),C[66]===C[101].correct_answer?m||(m=zt(),m.c(),m.m(a,null)):m&&(m.d(1),m=null),T[0]&1&&g!==(g=C[66]===C[101].correct_answer?"text-green-600 font-semibold":"text-gray-700")&&h(a,"class",g)},d(C){C&&_(e),m&&m.d()}}}function Yt(l){let e,t,n,s,i,o=l[13][l[101].question_type]+"",a,d,v,p=l[101].points+"",g,f,m=l[101].points===1?"point":"points",C,T,I,D=l[101].question_text+"",O,te,K,be,Ee=l[101].department+"",$,re,ee,ie=l[101].level+"",he,Q,W,F,A,Y="Edit",Z,N,R="Delete",z,Le,ue,U=l[101].options&&l[101].options.length>0&&Ht(l);function me(){return l[28](l[101])}function Be(){return l[29](l[101])}return{c(){e=c("div"),t=c("div"),n=c("div"),s=c("div"),i=c("span"),a=M(o),d=E(),v=c("span"),g=M(p),f=E(),C=M(m),T=E(),I=c("p"),O=M(D),te=E(),K=c("div"),be=c("span"),$=M(Ee),re=E(),ee=c("span"),he=M(ie),Q=E(),U&&U.c(),W=E(),F=c("div"),A=c("button"),A.textContent=Y,Z=E(),N=c("button"),N.textContent=R,z=E(),this.h()},l(Ne){e=u(Ne,"DIV",{class:!0});var le=b(e);t=u(le,"DIV",{class:!0});var _e=b(t);n=u(_e,"DIV",{class:!0});var ge=b(n);s=u(ge,"DIV",{class:!0});var we=b(s);i=u(we,"SPAN",{class:!0});var fe=b(i);a=H(fe,o),fe.forEach(_),d=w(we),v=u(we,"SPAN",{class:!0});var pe=b(v);g=H(pe,p),f=w(pe),C=H(pe,m),pe.forEach(_),we.forEach(_),T=w(ge),I=u(ge,"P",{class:!0});var Je=b(I);O=H(Je,D),Je.forEach(_),te=w(ge),K=u(ge,"DIV",{class:!0});var Ue=b(K);be=u(Ue,"SPAN",{});var Se=b(be);$=H(Se,Ee),Se.forEach(_),re=w(Ue),ee=u(Ue,"SPAN",{});var Oe=b(ee);he=H(Oe,ie),Oe.forEach(_),Ue.forEach(_),Q=w(ge),U&&U.l(ge),ge.forEach(_),W=w(_e),F=u(_e,"DIV",{class:!0});var qe=b(F);A=u(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),V(A)!=="svelte-1ogt2vx"&&(A.textContent=Y),Z=w(qe),N=u(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),V(N)!=="svelte-gbguqt"&&(N.textContent=R),qe.forEach(_),_e.forEach(_),z=w(le),le.forEach(_),this.h()},h(){h(i,"class","px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold"),h(v,"class","px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm"),h(s,"class","flex items-center space-x-3 mb-2"),h(I,"class","text-lg font-semibold text-gray-900 mb-2"),h(K,"class","flex items-center space-x-4 text-sm text-gray-600"),h(n,"class","flex-1"),h(A,"class","px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all"),h(N,"class","px-4 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all"),h(F,"class","flex space-x-2 ml-4"),h(t,"class","flex justify-between items-start"),h(e,"class","border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all")},m(Ne,le){j(Ne,e,le),r(e,t),r(t,n),r(n,s),r(s,i),r(i,a),r(s,d),r(s,v),r(v,g),r(v,f),r(v,C),r(n,T),r(n,I),r(I,O),r(n,te),r(n,K),r(K,be),r(be,$),r(K,re),r(K,ee),r(ee,he),r(n,Q),U&&U.m(n,null),r(t,W),r(t,F),r(F,A),r(F,Z),r(F,N),r(e,z),Le||(ue=[X(A,"click",me),X(N,"click",Be)],Le=!0)},p(Ne,le){l=Ne,le[0]&1&&o!==(o=l[13][l[101].question_type]+"")&&Ae(a,o),le[0]&1&&p!==(p=l[101].points+"")&&Ae(g,p),le[0]&1&&m!==(m=l[101].points===1?"point":"points")&&Ae(C,m),le[0]&1&&D!==(D=l[101].question_text+"")&&Ae(O,D),le[0]&1&&Ee!==(Ee=l[101].department+"")&&Ae($,Ee),le[0]&1&&ie!==(ie=l[101].level+"")&&Ae(he,ie),l[101].options&&l[101].options.length>0?U?U.p(l,le):(U=Ht(l),U.c(),U.m(n,null)):U&&(U.d(1),U=null)},d(Ne){Ne&&_(e),U&&U.d(),Le=!1,ht(ue)}}}function Rt(l){let e,t,n=`<span class="text-3xl mr-3"></span>
          Upload Questions`,s,i,o,a,d='<h3 class="font-bold text-blue-900 mb-3">Supported Format (Text File)</h3> <div class="text-sm text-blue-800 space-y-2"><p><strong>Example format:</strong></p> <div class="bg-white p-3 rounded border font-mono text-xs"><div>1. What is the capital of France?</div> <div>a) London</div> <div>b) Paris</div> <div>c) Berlin</div> <div>d) Madrid</div> <div>Answer: b</div> <div></div> <div>2. JavaScript was created in 1995. True</div> <div></div> <div>3. Fill in the blank: The capital of Kenya is _______.</div> <div>Answer: Nairobi</div></div></div>',v,p,g,f,m,C,T,I,D="Select Text File",O,te,K="Upload .txt file with questions",be,Ee,$,re,ee,ie="Department",he,Q,W,F="Select Department",A,Y,Z,N="Level",R,z,Le,ue="Select Level",U,me,Be,Ne="Lesson",le,_e,ge,we="Select Lesson",fe,pe,Je=l[2]?" Uploading...":" Upload Questions",Ue,Se,Oe,qe,tt=`<div class="bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-6 border border-green-200"><h3 class="font-bold text-green-900 mb-4 flex items-center"><span class="text-2xl mr-2"></span>
                Question Types Supported</h3> <div class="space-y-4 text-sm"><div class="flex items-start space-x-3"><span class="text-blue-500 text-lg"></span> <div><p class="font-semibold text-gray-800">Multiple Choice (MCQ)</p> <p class="text-gray-600">Questions with options a), b), c), d)</p></div></div> <div class="flex items-start space-x-3"><span class="text-green-500 text-lg"></span> <div><p class="font-semibold text-gray-800">True/False</p> <p class="text-gray-600">Statements ending with &quot;True&quot; or &quot;False&quot;</p></div></div> <div class="flex items-start space-x-3"><span class="text-purple-500 text-lg"></span> <div><p class="font-semibold text-gray-800">Short Answer</p> <p class="text-gray-600">Fill in the blank or open-ended questions</p></div></div></div></div> <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4"><h4 class="font-bold text-yellow-900 mb-3">Important Notes</h4> <ul class="text-sm text-yellow-800 space-y-2"><li>Number each question (1., 2., 3., etc.)</li> <li>Use &quot;Answer: &quot; followed by the correct option letter or text</li> <li>For True/False, end the statement with &quot;True&quot; or &quot;False&quot;</li> <li>Leave blank lines between questions for better parsing</li> <li>Maximum file size: 5MB</li></ul></div> <div class="bg-gray-50 border border-gray-200 rounded-xl p-4"><h4 class="font-bold text-gray-900 mb-3">Sample File</h4> <p class="text-sm text-gray-700 mb-2">You can use the sample file: <strong>ALL_QUESTION_TYPES_SAMPLE.txt</strong></p> <p class="text-xs text-gray-600">This file contains examples of all supported question types in the correct format.</p></div>`,et,Re,ne=l[9]&&Xt(l),je=oe(l[14]),Te=[];for(let P=0;P<je.length;P+=1)Te[P]=Kt(Bt(l,je,P));let Pe=oe(l[15]),ae=[];for(let P=0;P<Pe.length;P+=1)ae[P]=Wt(At(l,Pe,P));function Me(P,ce){return P[10]&&P[11]?yl:Tl}let Qe=Me(l),Ve=Qe(l);return{c(){e=c("div"),t=c("h2"),t.innerHTML=n,s=E(),i=c("div"),o=c("div"),a=c("div"),a.innerHTML=d,v=E(),p=c("div"),g=c("input"),f=E(),m=c("label"),C=c("div"),T=E(),I=c("h4"),I.textContent=D,O=E(),te=c("p"),te.textContent=K,be=E(),ne&&ne.c(),Ee=E(),$=c("div"),re=c("div"),ee=c("label"),ee.textContent=ie,he=E(),Q=c("select"),W=c("option"),W.textContent=F;for(let P=0;P<Te.length;P+=1)Te[P].c();A=E(),Y=c("div"),Z=c("label"),Z.textContent=N,R=E(),z=c("select"),Le=c("option"),Le.textContent=ue;for(let P=0;P<ae.length;P+=1)ae[P].c();U=E(),me=c("div"),Be=c("label"),Be.textContent=Ne,le=E(),_e=c("select"),ge=c("option"),ge.textContent=we,Ve.c(),fe=E(),pe=c("button"),Ue=M(Je),Oe=E(),qe=c("div"),qe.innerHTML=tt,this.h()},l(P){e=u(P,"DIV",{class:!0});var ce=b(e);t=u(ce,"H2",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1x77f2p"&&(t.innerHTML=n),s=w(ce),i=u(ce,"DIV",{class:!0});var L=b(i);o=u(L,"DIV",{class:!0});var Ce=b(o);a=u(Ce,"DIV",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-36h9yk"&&(a.innerHTML=d),v=w(Ce),p=u(Ce,"DIV",{class:!0});var k=b(p);g=u(k,"INPUT",{type:!0,accept:!0,class:!0,id:!0}),f=w(k),m=u(k,"LABEL",{for:!0,class:!0});var ye=b(m);C=u(ye,"DIV",{class:!0}),b(C).forEach(_),T=w(ye),I=u(ye,"H4",{class:!0,"data-svelte-h":!0}),V(I)!=="svelte-1i68pl2"&&(I.textContent=D),O=w(ye),te=u(ye,"P",{class:!0,"data-svelte-h":!0}),V(te)!=="svelte-wh42iz"&&(te.textContent=K),be=w(ye),ne&&ne.l(ye),ye.forEach(_),k.forEach(_),Ee=w(Ce),$=u(Ce,"DIV",{class:!0});var G=b($);re=u(G,"DIV",{});var ke=b(re);ee=u(ke,"LABEL",{class:!0,"data-svelte-h":!0}),V(ee)!=="svelte-j1y4sh"&&(ee.textContent=ie),he=w(ke),Q=u(ke,"SELECT",{class:!0});var Ke=b(Q);W=u(Ke,"OPTION",{"data-svelte-h":!0}),V(W)!=="svelte-c0wpa2"&&(W.textContent=F);for(let x=0;x<Te.length;x+=1)Te[x].l(Ke);Ke.forEach(_),ke.forEach(_),A=w(G),Y=u(G,"DIV",{});var se=b(Y);Z=u(se,"LABEL",{class:!0,"data-svelte-h":!0}),V(Z)!=="svelte-lo5b2d"&&(Z.textContent=N),R=w(se),z=u(se,"SELECT",{class:!0});var xe=b(z);Le=u(xe,"OPTION",{"data-svelte-h":!0}),V(Le)!=="svelte-d2jd54"&&(Le.textContent=ue);for(let x=0;x<ae.length;x+=1)ae[x].l(xe);xe.forEach(_),se.forEach(_),G.forEach(_),U=w(Ce),me=u(Ce,"DIV",{});var De=b(me);Be=u(De,"LABEL",{class:!0,"data-svelte-h":!0}),V(Be)!=="svelte-5qw0zb"&&(Be.textContent=Ne),le=w(De),_e=u(De,"SELECT",{class:!0});var lt=b(_e);ge=u(lt,"OPTION",{"data-svelte-h":!0}),V(ge)!=="svelte-k2ekn7"&&(ge.textContent=we),Ve.l(lt),lt.forEach(_),De.forEach(_),fe=w(Ce),pe=u(Ce,"BUTTON",{class:!0});var He=b(pe);Ue=H(He,Je),He.forEach(_),Ce.forEach(_),Oe=w(L),qe=u(L,"DIV",{class:!0,"data-svelte-h":!0}),V(qe)!=="svelte-xgg0la"&&(qe.innerHTML=tt),L.forEach(_),ce.forEach(_),this.h()},h(){h(t,"class","text-2xl font-bold mb-6 flex items-center"),h(a,"class","bg-blue-50 border border-blue-200 rounded-xl p-4"),h(g,"type","file"),h(g,"accept",".txt"),h(g,"class","hidden"),h(g,"id","questionFile"),h(C,"class","text-6xl mb-4"),h(I,"class","text-lg font-semibold text-gray-800 mb-2"),h(te,"class","text-gray-600 mb-4"),h(m,"for","questionFile"),h(m,"class","cursor-pointer"),h(p,"class","border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors"),h(ee,"class","block text-sm font-semibold mb-2"),W.__value="",B(W,W.__value),h(Q,"class","w-full px-4 py-3 border rounded-xl"),l[10]===void 0&&Ze(()=>l[31].call(Q)),h(Z,"class","block text-sm font-semibold mb-2"),Le.__value="",B(Le,Le.__value),h(z,"class","w-full px-4 py-3 border rounded-xl"),l[11]===void 0&&Ze(()=>l[32].call(z)),h($,"class","grid grid-cols-2 gap-4"),h(Be,"class","block text-sm font-semibold mb-2"),ge.__value=null,B(ge,ge.__value),h(_e,"class","w-full px-4 py-3 border rounded-xl"),l[12]===void 0&&Ze(()=>l[34].call(_e)),pe.disabled=Se=l[2]||!l[9]||!l[10]||!l[11]||!l[12],h(pe,"class","w-full bg-green-600 text-white py-4 px-6 rounded-xl hover:bg-green-700 disabled:opacity-50 transition-all font-semibold"),h(o,"class","space-y-6"),h(qe,"class","space-y-6"),h(i,"class","grid grid-cols-1 lg:grid-cols-2 gap-8"),h(e,"class","bg-white rounded-2xl shadow-xl p-6")},m(P,ce){j(P,e,ce),r(e,t),r(e,s),r(e,i),r(i,o),r(o,a),r(o,v),r(o,p),r(p,g),r(p,f),r(p,m),r(m,C),r(m,T),r(m,I),r(m,O),r(m,te),r(m,be),ne&&ne.m(m,null),r(o,Ee),r(o,$),r($,re),r(re,ee),r(re,he),r(re,Q),r(Q,W);for(let L=0;L<Te.length;L+=1)Te[L]&&Te[L].m(Q,null);de(Q,l[10],!0),r($,A),r($,Y),r(Y,Z),r(Y,R),r(Y,z),r(z,Le);for(let L=0;L<ae.length;L+=1)ae[L]&&ae[L].m(z,null);de(z,l[11],!0),r(o,U),r(o,me),r(me,Be),r(me,le),r(me,_e),r(_e,ge),Ve.m(_e,null),de(_e,l[12],!0),r(o,fe),r(o,pe),r(pe,Ue),r(i,Oe),r(i,qe),et||(Re=[X(g,"change",l[30]),X(Q,"change",l[31]),X(z,"change",l[32]),X(_e,"change",l[34]),X(pe,"click",l[19])],et=!0)},p(P,ce){if(P[9]?ne?ne.p(P,ce):(ne=Xt(P),ne.c(),ne.m(m,null)):ne&&(ne.d(1),ne=null),ce[0]&16384){je=oe(P[14]);let L;for(L=0;L<je.length;L+=1){const Ce=Bt(P,je,L);Te[L]?Te[L].p(Ce,ce):(Te[L]=Kt(Ce),Te[L].c(),Te[L].m(Q,null))}for(;L<Te.length;L+=1)Te[L].d(1);Te.length=je.length}if(ce[0]&17408&&de(Q,P[10]),ce[0]&32768){Pe=oe(P[15]);let L;for(L=0;L<Pe.length;L+=1){const Ce=At(P,Pe,L);ae[L]?ae[L].p(Ce,ce):(ae[L]=Wt(Ce),ae[L].c(),ae[L].m(z,null))}for(;L<ae.length;L+=1)ae[L].d(1);ae.length=Pe.length}ce[0]&34816&&de(z,P[11]),Qe===(Qe=Me(P))&&Ve?Ve.p(P,ce):(Ve.d(1),Ve=Qe(P),Ve&&(Ve.c(),Ve.m(_e,null))),ce[0]&7170&&de(_e,P[12]),ce[0]&4&&Je!==(Je=P[2]?" Uploading...":" Upload Questions")&&Ae(Ue,Je),ce[0]&56838&&Se!==(Se=P[2]||!P[9]||!P[10]||!P[11]||!P[12])&&(pe.disabled=Se)},d(P){P&&_(e),ne&&ne.d(),Ye(Te,P),Ye(ae,P),Ve.d(),et=!1,ht(Re)}}}function Xt(l){let e,t,n=l[9].name+"",s;return{c(){e=c("div"),t=c("p"),s=M(n),this.h()},l(i){e=u(i,"DIV",{class:!0});var o=b(e);t=u(o,"P",{class:!0});var a=b(t);s=H(a,n),a.forEach(_),o.forEach(_),this.h()},h(){h(t,"class","text-green-800 font-medium"),h(e,"class","bg-green-100 border border-green-300 rounded-lg p-3 inline-block")},m(i,o){j(i,e,o),r(e,t),r(t,s)},p(i,o){o[0]&512&&n!==(n=i[9].name+"")&&Ae(s,n)},d(i){i&&_(e)}}}function Kt(l){let e,t=l[77]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[77],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function Wt(l){let e,t=l[74]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[74],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function Tl(l){let e,t="Select Department & Level first";return{c(){e=c("option"),e.textContent=t,this.h()},l(n){e=u(n,"OPTION",{"data-svelte-h":!0}),V(e)!=="svelte-wecjk8"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.__value="Select Department & Level first",B(e,e.__value)},m(n,s){j(n,e,s)},p:$e,d(n){n&&_(e)}}}function yl(l){let e,t=oe(l[1].filter(l[33])),n=[];for(let s=0;s<t.length;s+=1)n[s]=Gt(Vt(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ft()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=ft()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);j(s,e,i)},p(s,i){if(i[0]&3074){t=oe(s[1].filter(s[33]));let o;for(o=0;o<t.length;o+=1){const a=Vt(s,t,o);n[o]?n[o].p(a,i):(n[o]=Gt(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&_(e),Ye(n,s)}}}function Gt(l){let e,t=l[71].title+"",n,s,i=l[71].code+"",o,a,d;return{c(){e=c("option"),n=M(t),s=M(" ("),o=M(i),a=M(")"),this.h()},l(v){e=u(v,"OPTION",{});var p=b(e);n=H(p,t),s=H(p," ("),o=H(p,i),a=H(p,")"),p.forEach(_),this.h()},h(){e.__value=d=l[71].id,B(e,e.__value)},m(v,p){j(v,e,p),r(e,n),r(e,s),r(e,o),r(e,a)},p(v,p){p[0]&3074&&t!==(t=v[71].title+"")&&Ae(n,t),p[0]&3074&&i!==(i=v[71].code+"")&&Ae(o,i),p[0]&52226&&d!==(d=v[71].id)&&(e.__value=d,B(e,e.__value))},d(v){v&&_(e)}}}function Zt(l){let e,t,n=`<span class="text-3xl mr-3"></span>
          Create New Question`,s,i,o,a,d,v,p="Question Type",g,f,m,C,T,I="Points",D,O,te,K,be,Ee="Question Text",$,re,ee,ie,he,Q,W="Department",F,A,Y,Z="Select Department",N,R,z,Le="Level",ue,U,me,Be="Select Level",Ne,le,_e,ge="Lesson",we,fe,pe,Je="Select Lesson",Ue,Se,Oe,qe,tt="Correct Answer",et,Re,ne,je,Te="Cancel",Pe,ae,Me=l[2]?" Saving...":" Save Question",Qe,Ve,P,ce=oe(Object.entries(l[13])),L=[];for(let x=0;x<ce.length;x+=1)L[x]=$t(Pt(l,ce,x));let Ce=oe(l[14]),k=[];for(let x=0;x<Ce.length;x+=1)k[x]=el(St(l,Ce,x));let ye=oe(l[15]),G=[];for(let x=0;x<ye.length;x+=1)G[x]=tl(Nt(l,ye,x));function ke(x,J){return x[7].department&&x[7].level?Ll:Il}let Ke=ke(l),se=Ke(l),xe=l[7].question_type==="mcq"&&nl(l);function De(x,J){return x[7].question_type==="mcq"?Dl:x[7].question_type==="true_false"?ql:Ol}let lt=De(l),He=lt(l);return{c(){e=c("div"),t=c("h2"),t.innerHTML=n,s=E(),i=c("div"),o=c("div"),a=c("div"),d=c("div"),v=c("label"),v.textContent=p,g=E(),f=c("select");for(let x=0;x<L.length;x+=1)L[x].c();m=E(),C=c("div"),T=c("label"),T.textContent=I,D=E(),O=c("input"),te=E(),K=c("div"),be=c("label"),be.textContent=Ee,$=E(),re=c("textarea"),ee=E(),ie=c("div"),he=c("div"),Q=c("label"),Q.textContent=W,F=E(),A=c("select"),Y=c("option"),Y.textContent=Z;for(let x=0;x<k.length;x+=1)k[x].c();N=E(),R=c("div"),z=c("label"),z.textContent=Le,ue=E(),U=c("select"),me=c("option"),me.textContent=Be;for(let x=0;x<G.length;x+=1)G[x].c();Ne=E(),le=c("div"),_e=c("label"),_e.textContent=ge,we=E(),fe=c("select"),pe=c("option"),pe.textContent=Je,se.c(),Ue=E(),xe&&xe.c(),Se=E(),Oe=c("div"),qe=c("label"),qe.textContent=tt,et=E(),He.c(),Re=E(),ne=c("div"),je=c("button"),je.textContent=Te,Pe=E(),ae=c("button"),Qe=M(Me),this.h()},l(x){e=u(x,"DIV",{class:!0});var J=b(e);t=u(J,"H2",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-phdwnv"&&(t.innerHTML=n),s=w(J),i=u(J,"DIV",{class:!0});var S=b(i);o=u(S,"DIV",{class:!0});var Ie=b(o);a=u(Ie,"DIV",{class:!0});var Xe=b(a);d=u(Xe,"DIV",{});var y=b(d);v=u(y,"LABEL",{class:!0,"data-svelte-h":!0}),V(v)!=="svelte-6c3er7"&&(v.textContent=p),g=w(y),f=u(y,"SELECT",{class:!0});var ve=b(f);for(let We=0;We<L.length;We+=1)L[We].l(ve);ve.forEach(_),y.forEach(_),m=w(Xe),C=u(Xe,"DIV",{});var q=b(C);T=u(q,"LABEL",{class:!0,"data-svelte-h":!0}),V(T)!=="svelte-42qm1s"&&(T.textContent=I),D=w(q),O=u(q,"INPUT",{type:!0,min:!0,max:!0,class:!0}),q.forEach(_),Xe.forEach(_),te=w(Ie),K=u(Ie,"DIV",{});var ze=b(K);be=u(ze,"LABEL",{class:!0,"data-svelte-h":!0}),V(be)!=="svelte-1r4b4ee"&&(be.textContent=Ee),$=w(ze),re=u(ze,"TEXTAREA",{rows:!0,class:!0,placeholder:!0}),b(re).forEach(_),ze.forEach(_),ee=w(Ie),ie=u(Ie,"DIV",{class:!0});var nt=b(ie);he=u(nt,"DIV",{});var at=b(he);Q=u(at,"LABEL",{class:!0,"data-svelte-h":!0}),V(Q)!=="svelte-j1y4sh"&&(Q.textContent=W),F=w(at),A=u(at,"SELECT",{class:!0});var Fe=b(A);Y=u(Fe,"OPTION",{"data-svelte-h":!0}),V(Y)!=="svelte-c0wpa2"&&(Y.textContent=Z);for(let We=0;We<k.length;We+=1)k[We].l(Fe);Fe.forEach(_),at.forEach(_),N=w(nt),R=u(nt,"DIV",{});var ot=b(R);z=u(ot,"LABEL",{class:!0,"data-svelte-h":!0}),V(z)!=="svelte-lo5b2d"&&(z.textContent=Le),ue=w(ot),U=u(ot,"SELECT",{class:!0});var dt=b(U);me=u(dt,"OPTION",{"data-svelte-h":!0}),V(me)!=="svelte-d2jd54"&&(me.textContent=Be);for(let We=0;We<G.length;We+=1)G[We].l(dt);dt.forEach(_),ot.forEach(_),Ne=w(nt),le=u(nt,"DIV",{});var rt=b(le);_e=u(rt,"LABEL",{class:!0,"data-svelte-h":!0}),V(_e)!=="svelte-5qw0zb"&&(_e.textContent=ge),we=w(rt),fe=u(rt,"SELECT",{class:!0});var ct=b(fe);pe=u(ct,"OPTION",{"data-svelte-h":!0}),V(pe)!=="svelte-k2ekn7"&&(pe.textContent=Je),se.l(ct),ct.forEach(_),rt.forEach(_),nt.forEach(_),Ue=w(Ie),xe&&xe.l(Ie),Se=w(Ie),Oe=u(Ie,"DIV",{});var it=b(Oe);qe=u(it,"LABEL",{class:!0,"data-svelte-h":!0}),V(qe)!=="svelte-kk9yx7"&&(qe.textContent=tt),et=w(it),He.l(it),it.forEach(_),Re=w(Ie),ne=u(Ie,"DIV",{class:!0});var ut=b(ne);je=u(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),V(je)!=="svelte-1ujrn7s"&&(je.textContent=Te),Pe=w(ut),ae=u(ut,"BUTTON",{class:!0});var _t=b(ae);Qe=H(_t,Me),_t.forEach(_),ut.forEach(_),Ie.forEach(_),S.forEach(_),J.forEach(_),this.h()},h(){h(t,"class","text-2xl font-bold mb-6 flex items-center"),h(v,"class","block text-sm font-semibold mb-2"),h(f,"class","w-full px-4 py-3 border rounded-xl"),l[7].question_type===void 0&&Ze(()=>l[35].call(f)),h(T,"class","block text-sm font-semibold mb-2"),h(O,"type","number"),h(O,"min","1"),h(O,"max","10"),h(O,"class","w-full px-4 py-3 border rounded-xl"),h(a,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),h(be,"class","block text-sm font-semibold mb-2"),h(re,"rows","4"),h(re,"class","w-full px-4 py-3 border rounded-xl"),h(re,"placeholder","Enter your question..."),h(Q,"class","block text-sm font-semibold mb-2"),Y.__value="",B(Y,Y.__value),h(A,"class","w-full px-4 py-3 border rounded-xl"),l[7].department===void 0&&Ze(()=>l[38].call(A)),h(z,"class","block text-sm font-semibold mb-2"),me.__value="",B(me,me.__value),h(U,"class","w-full px-4 py-3 border rounded-xl"),l[7].level===void 0&&Ze(()=>l[39].call(U)),h(_e,"class","block text-sm font-semibold mb-2"),pe.__value=null,B(pe,pe.__value),h(fe,"class","w-full px-4 py-3 border rounded-xl"),l[7].lesson_id===void 0&&Ze(()=>l[41].call(fe)),h(ie,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),h(qe,"class","block text-sm font-semibold mb-2"),h(je,"class","px-6 py-3 border rounded-xl hover:bg-gray-50 transition-all"),ae.disabled=l[2],h(ae,"class","bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-all font-semibold"),h(ne,"class","flex justify-end space-x-4 pt-6"),h(o,"class","space-y-6"),h(i,"class","max-w-4xl mx-auto"),h(e,"class","bg-white rounded-2xl shadow-xl p-6")},m(x,J){j(x,e,J),r(e,t),r(e,s),r(e,i),r(i,o),r(o,a),r(a,d),r(d,v),r(d,g),r(d,f);for(let S=0;S<L.length;S+=1)L[S]&&L[S].m(f,null);de(f,l[7].question_type,!0),r(a,m),r(a,C),r(C,T),r(C,D),r(C,O),B(O,l[7].points),r(o,te),r(o,K),r(K,be),r(K,$),r(K,re),B(re,l[7].question_text),r(o,ee),r(o,ie),r(ie,he),r(he,Q),r(he,F),r(he,A),r(A,Y);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(A,null);de(A,l[7].department,!0),r(ie,N),r(ie,R),r(R,z),r(R,ue),r(R,U),r(U,me);for(let S=0;S<G.length;S+=1)G[S]&&G[S].m(U,null);de(U,l[7].level,!0),r(ie,Ne),r(ie,le),r(le,_e),r(le,we),r(le,fe),r(fe,pe),se.m(fe,null),de(fe,l[7].lesson_id,!0),r(o,Ue),xe&&xe.m(o,null),r(o,Se),r(o,Oe),r(Oe,qe),r(Oe,et),He.m(Oe,null),r(o,Re),r(o,ne),r(ne,je),r(ne,Pe),r(ne,ae),r(ae,Qe),Ve||(P=[X(f,"change",l[35]),X(O,"input",l[36]),X(re,"input",l[37]),X(A,"change",l[38]),X(U,"change",l[39]),X(fe,"change",l[41]),X(je,"click",l[47]),X(ae,"click",l[17])],Ve=!0)},p(x,J){if(J[0]&8192){ce=oe(Object.entries(x[13]));let S;for(S=0;S<ce.length;S+=1){const Ie=Pt(x,ce,S);L[S]?L[S].p(Ie,J):(L[S]=$t(Ie),L[S].c(),L[S].m(f,null))}for(;S<L.length;S+=1)L[S].d(1);L.length=ce.length}if(J[0]&8320&&de(f,x[7].question_type),J[0]&8320&&gt(O.value)!==x[7].points&&B(O,x[7].points),J[0]&8320&&B(re,x[7].question_text),J[0]&16384){Ce=oe(x[14]);let S;for(S=0;S<Ce.length;S+=1){const Ie=St(x,Ce,S);k[S]?k[S].p(Ie,J):(k[S]=el(Ie),k[S].c(),k[S].m(A,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=Ce.length}if(J[0]&8320&&de(A,x[7].department),J[0]&32768){ye=oe(x[15]);let S;for(S=0;S<ye.length;S+=1){const Ie=Nt(x,ye,S);G[S]?G[S].p(Ie,J):(G[S]=tl(Ie),G[S].c(),G[S].m(U,null))}for(;S<G.length;S+=1)G[S].d(1);G.length=ye.length}J[0]&8320&&de(U,x[7].level),Ke===(Ke=ke(x))&&se?se.p(x,J):(se.d(1),se=Ke(x),se&&(se.c(),se.m(fe,null))),J[0]&8320&&de(fe,x[7].lesson_id),x[7].question_type==="mcq"?xe?xe.p(x,J):(xe=nl(x),xe.c(),xe.m(o,Se)):xe&&(xe.d(1),xe=null),lt===(lt=De(x))&&He?He.p(x,J):(He.d(1),He=lt(x),He&&(He.c(),He.m(Oe,null))),J[0]&4&&Me!==(Me=x[2]?" Saving...":" Save Question")&&Ae(Qe,Me),J[0]&4&&(ae.disabled=x[2])},d(x){x&&_(e),Ye(L,x),Ye(k,x),Ye(G,x),se.d(),xe&&xe.d(),He.d(),Ve=!1,ht(P)}}}function $t(l){let e,t=l[81]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[80],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function el(l){let e,t=l[77]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[77],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function tl(l){let e,t=l[74]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[74],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function Il(l){let e,t="Select Department & Level first";return{c(){e=c("option"),e.textContent=t,this.h()},l(n){e=u(n,"OPTION",{"data-svelte-h":!0}),V(e)!=="svelte-wecjk8"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.__value="Select Department & Level first",B(e,e.__value)},m(n,s){j(n,e,s)},p:$e,d(n){n&&_(e)}}}function Ll(l){let e,t=oe(l[1].filter(l[40])),n=[];for(let s=0;s<t.length;s+=1)n[s]=ll(Dt(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ft()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=ft()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);j(s,e,i)},p(s,i){if(i[0]&130){t=oe(s[1].filter(s[40]));let o;for(o=0;o<t.length;o+=1){const a=Dt(s,t,o);n[o]?n[o].p(a,i):(n[o]=ll(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&_(e),Ye(n,s)}}}function ll(l){let e,t=l[71].title+"",n,s,i=l[71].code+"",o,a,d;return{c(){e=c("option"),n=M(t),s=M(" ("),o=M(i),a=M(")"),this.h()},l(v){e=u(v,"OPTION",{});var p=b(e);n=H(p,t),s=H(p," ("),o=H(p,i),a=H(p,")"),p.forEach(_),this.h()},h(){e.__value=d=l[71].id,B(e,e.__value)},m(v,p){j(v,e,p),r(e,n),r(e,s),r(e,o),r(e,a)},p(v,p){p[0]&130&&t!==(t=v[71].title+"")&&Ae(n,t),p[0]&130&&i!==(i=v[71].code+"")&&Ae(o,i),p[0]&8322&&d!==(d=v[71].id)&&(e.__value=d,B(e,e.__value))},d(v){v&&_(e)}}}function nl(l){let e,t,n="Options",s,i,o,a,d="Add Option",v,p,g=oe(l[7].options),f=[];for(let m=0;m<g.length;m+=1)f[m]=ol(qt(l,g,m));return{c(){e=c("div"),t=c("label"),t.textContent=n,s=E(),i=c("div");for(let m=0;m<f.length;m+=1)f[m].c();o=E(),a=c("button"),a.textContent=d,this.h()},l(m){e=u(m,"DIV",{});var C=b(e);t=u(C,"LABEL",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1jzw6tp"&&(t.textContent=n),s=w(C),i=u(C,"DIV",{class:!0});var T=b(i);for(let I=0;I<f.length;I+=1)f[I].l(T);o=w(T),a=u(T,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1m2quys"&&(a.textContent=d),T.forEach(_),C.forEach(_),this.h()},h(){h(t,"class","block text-sm font-semibold mb-2"),h(a,"class","mt-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-all"),h(i,"class","space-y-3")},m(m,C){j(m,e,C),r(e,t),r(e,s),r(e,i);for(let T=0;T<f.length;T+=1)f[T]&&f[T].m(i,null);r(i,o),r(i,a),v||(p=X(a,"click",l[20]),v=!0)},p(m,C){if(C[0]&2097280){g=oe(m[7].options);let T;for(T=0;T<g.length;T+=1){const I=qt(m,g,T);f[T]?f[T].p(I,C):(f[T]=ol(I),f[T].c(),f[T].m(i,o))}for(;T<f.length;T+=1)f[T].d(1);f.length=g.length}},d(m){m&&_(e),Ye(f,m),v=!1,p()}}}function sl(l){let e,t="",n,s;function i(){return l[43](l[70])}return{c(){e=c("button"),e.innerHTML=t,this.h()},l(o){e=u(o,"BUTTON",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-8odjx3"&&(e.innerHTML=t),this.h()},h(){h(e,"class","px-3 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all")},m(o,a){j(o,e,a),n||(s=X(e,"click",i),n=!0)},p(o,a){l=o},d(o){o&&_(e),n=!1,s()}}}function ol(l){let e,t,n=String.fromCharCode(65+l[70])+"",s,i,o,a,d,v;function p(){l[42].call(o,l[70])}let g=l[7].options.length>2&&sl(l);return{c(){e=c("div"),t=c("span"),s=M(n),i=E(),o=c("input"),a=E(),g&&g.c(),this.h()},l(f){e=u(f,"DIV",{class:!0});var m=b(e);t=u(m,"SPAN",{class:!0});var C=b(t);s=H(C,n),C.forEach(_),i=w(m),o=u(m,"INPUT",{class:!0,placeholder:!0}),a=w(m),g&&g.l(m),m.forEach(_),this.h()},h(){h(t,"class","px-3 py-2 bg-gray-100 rounded-lg font-semibold text-gray-700"),h(o,"class","flex-1 px-4 py-2 border rounded-lg"),h(o,"placeholder",`Option ${String.fromCharCode(65+l[70])}`),h(e,"class","flex space-x-2")},m(f,m){j(f,e,m),r(e,t),r(t,s),r(e,i),r(e,o),B(o,l[7].options[l[70]]),r(e,a),g&&g.m(e,null),d||(v=X(o,"input",p),d=!0)},p(f,m){l=f,m[0]&8320&&o.value!==l[7].options[l[70]]&&B(o,l[7].options[l[70]]),l[7].options.length>2?g?g.p(l,m):(g=sl(l),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(f){f&&_(e),g&&g.d(),d=!1,v()}}}function Ol(l){let e,t,n;return{c(){e=c("input"),this.h()},l(s){e=u(s,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){h(e,"class","w-full px-4 py-3 border rounded-xl"),h(e,"placeholder","Enter correct answer")},m(s,i){j(s,e,i),B(e,l[7].correct_answer),t||(n=X(e,"input",l[46]),t=!0)},p(s,i){i[0]&8320&&e.value!==s[7].correct_answer&&B(e,s[7].correct_answer)},d(s){s&&_(e),t=!1,n()}}}function ql(l){let e,t,n="Select answer",s,i="True",o,a="False",d,v;return{c(){e=c("select"),t=c("option"),t.textContent=n,s=c("option"),s.textContent=i,o=c("option"),o.textContent=a,this.h()},l(p){e=u(p,"SELECT",{class:!0});var g=b(e);t=u(g,"OPTION",{"data-svelte-h":!0}),V(t)!=="svelte-76w54i"&&(t.textContent=n),s=u(g,"OPTION",{"data-svelte-h":!0}),V(s)!=="svelte-xuo0cu"&&(s.textContent=i),o=u(g,"OPTION",{"data-svelte-h":!0}),V(o)!=="svelte-1cn36e8"&&(o.textContent=a),g.forEach(_),this.h()},h(){t.__value="",B(t,t.__value),s.__value="True",B(s,s.__value),o.__value="False",B(o,o.__value),h(e,"class","w-full px-4 py-3 border rounded-xl"),l[7].correct_answer===void 0&&Ze(()=>l[45].call(e))},m(p,g){j(p,e,g),r(e,t),r(e,s),r(e,o),de(e,l[7].correct_answer,!0),d||(v=X(e,"change",l[45]),d=!0)},p(p,g){g[0]&8320&&de(e,p[7].correct_answer)},d(p){p&&_(e),d=!1,v()}}}function Dl(l){let e,t,n="Select correct answer",s,i,o=oe(l[7].options.filter(vl)),a=[];for(let d=0;d<o.length;d+=1)a[d]=rl(Ot(l,o,d));return{c(){e=c("select"),t=c("option"),t.textContent=n;for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){e=u(d,"SELECT",{class:!0});var v=b(e);t=u(v,"OPTION",{"data-svelte-h":!0}),V(t)!=="svelte-8okv28"&&(t.textContent=n);for(let p=0;p<a.length;p+=1)a[p].l(v);v.forEach(_),this.h()},h(){t.__value="",B(t,t.__value),h(e,"class","w-full px-4 py-3 border rounded-xl"),l[7].correct_answer===void 0&&Ze(()=>l[44].call(e))},m(d,v){j(d,e,v),r(e,t);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);de(e,l[7].correct_answer,!0),s||(i=X(e,"change",l[44]),s=!0)},p(d,v){if(v[0]&128){o=oe(d[7].options.filter(vl));let p;for(p=0;p<o.length;p+=1){const g=Ot(d,o,p);a[p]?a[p].p(g,v):(a[p]=rl(g),a[p].c(),a[p].m(e,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=o.length}v[0]&8320&&de(e,d[7].correct_answer)},d(d){d&&_(e),Ye(a,d),s=!1,i()}}}function rl(l){let e,t=l[66]+"",n,s;return{c(){e=c("option"),n=M(t),this.h()},l(i){e=u(i,"OPTION",{});var o=b(e);n=H(o,t),o.forEach(_),this.h()},h(){e.__value=s=l[66],B(e,e.__value)},m(i,o){j(i,e,o),r(e,n)},p(i,o){o[0]&128&&t!==(t=i[66]+"")&&Ae(n,t),o[0]&8320&&s!==(s=i[66])&&(e.__value=s,B(e,e.__value))},d(i){i&&_(e)}}}function il(l){let e,t,n,s,i,o=l[6]?"Edit":"Create",a,d,v,p,g,f,m,C,T="Question Type",I,D,O,te,K,be="Question Text",Ee,$,re,ee,ie,he,Q="Department",W,F,A,Y="Select Department",Z,N,R,z="Level",Le,ue,U,me="Select Level",Be,Ne,le,_e="Lesson",ge,we,fe,pe="Select Lesson",Je,Ue,Se,Oe,qe="Correct Answer",tt,et,Re,ne,je="Points",Te,Pe,ae,Me,Qe,Ve=l[2]?" Saving...":" Save Question",P,ce,L,Ce="Cancel",k,ye,G=oe(Object.entries(l[13])),ke=[];for(let y=0;y<G.length;y+=1)ke[y]=al(Lt(l,G,y));let Ke=oe(l[14]),se=[];for(let y=0;y<Ke.length;y+=1)se[y]=cl(It(l,Ke,y));let xe=oe(l[15]),De=[];for(let y=0;y<xe.length;y+=1)De[y]=ul(yt(l,xe,y));function lt(y,ve){return y[7].department&&y[7].level?Sl:Nl}let He=lt(l),x=He(l),J=l[7].question_type==="mcq"&&_l(l);function S(y,ve){return y[7].question_type==="mcq"?Al:y[7].question_type==="true_false"?Vl:Pl}let Ie=S(l),Xe=Ie(l);return{c(){e=c("div"),t=c("div"),n=c("div"),s=c("div"),i=c("h3"),a=M(o),d=M(" Question"),v=E(),p=c("button"),g=E(),f=c("div"),m=c("div"),C=c("label"),C.textContent=T,I=E(),D=c("select");for(let y=0;y<ke.length;y+=1)ke[y].c();O=E(),te=c("div"),K=c("label"),K.textContent=be,Ee=E(),$=c("textarea"),re=E(),ee=c("div"),ie=c("div"),he=c("label"),he.textContent=Q,W=E(),F=c("select"),A=c("option"),A.textContent=Y;for(let y=0;y<se.length;y+=1)se[y].c();Z=E(),N=c("div"),R=c("label"),R.textContent=z,Le=E(),ue=c("select"),U=c("option"),U.textContent=me;for(let y=0;y<De.length;y+=1)De[y].c();Be=E(),Ne=c("div"),le=c("label"),le.textContent=_e,ge=E(),we=c("select"),fe=c("option"),fe.textContent=pe,x.c(),Je=E(),J&&J.c(),Ue=E(),Se=c("div"),Oe=c("label"),Oe.textContent=qe,tt=E(),Xe.c(),et=E(),Re=c("div"),ne=c("label"),ne.textContent=je,Te=E(),Pe=c("input"),ae=E(),Me=c("div"),Qe=c("button"),P=M(Ve),ce=E(),L=c("button"),L.textContent=Ce,this.h()},l(y){e=u(y,"DIV",{class:!0});var ve=b(e);t=u(ve,"DIV",{class:!0});var q=b(t);n=u(q,"DIV",{class:!0});var ze=b(n);s=u(ze,"DIV",{class:!0});var nt=b(s);i=u(nt,"H3",{class:!0});var at=b(i);a=H(at,o),d=H(at," Question"),at.forEach(_),v=w(nt),p=u(nt,"BUTTON",{class:!0}),b(p).forEach(_),nt.forEach(_),g=w(ze),f=u(ze,"DIV",{class:!0});var Fe=b(f);m=u(Fe,"DIV",{});var ot=b(m);C=u(ot,"LABEL",{class:!0,"data-svelte-h":!0}),V(C)!=="svelte-6c3er7"&&(C.textContent=T),I=w(ot),D=u(ot,"SELECT",{class:!0});var dt=b(D);for(let st=0;st<ke.length;st+=1)ke[st].l(dt);dt.forEach(_),ot.forEach(_),O=w(Fe),te=u(Fe,"DIV",{});var rt=b(te);K=u(rt,"LABEL",{class:!0,"data-svelte-h":!0}),V(K)!=="svelte-1r4b4ee"&&(K.textContent=be),Ee=w(rt),$=u(rt,"TEXTAREA",{rows:!0,class:!0,placeholder:!0}),b($).forEach(_),rt.forEach(_),re=w(Fe),ee=u(Fe,"DIV",{class:!0});var ct=b(ee);ie=u(ct,"DIV",{});var it=b(ie);he=u(it,"LABEL",{class:!0,"data-svelte-h":!0}),V(he)!=="svelte-j1y4sh"&&(he.textContent=Q),W=w(it),F=u(it,"SELECT",{class:!0});var ut=b(F);A=u(ut,"OPTION",{"data-svelte-h":!0}),V(A)!=="svelte-c0wpa2"&&(A.textContent=Y);for(let st=0;st<se.length;st+=1)se[st].l(ut);ut.forEach(_),it.forEach(_),Z=w(ct),N=u(ct,"DIV",{});var _t=b(N);R=u(_t,"LABEL",{class:!0,"data-svelte-h":!0}),V(R)!=="svelte-lo5b2d"&&(R.textContent=z),Le=w(_t),ue=u(_t,"SELECT",{class:!0});var We=b(ue);U=u(We,"OPTION",{"data-svelte-h":!0}),V(U)!=="svelte-d2jd54"&&(U.textContent=me);for(let st=0;st<De.length;st+=1)De[st].l(We);We.forEach(_),_t.forEach(_),ct.forEach(_),Be=w(Fe),Ne=u(Fe,"DIV",{});var pt=b(Ne);le=u(pt,"LABEL",{class:!0,"data-svelte-h":!0}),V(le)!=="svelte-5qw0zb"&&(le.textContent=_e),ge=w(pt),we=u(pt,"SELECT",{class:!0});var Ct=b(we);fe=u(Ct,"OPTION",{"data-svelte-h":!0}),V(fe)!=="svelte-k2ekn7"&&(fe.textContent=pe),x.l(Ct),Ct.forEach(_),pt.forEach(_),Je=w(Fe),J&&J.l(Fe),Ue=w(Fe),Se=u(Fe,"DIV",{});var vt=b(Se);Oe=u(vt,"LABEL",{class:!0,"data-svelte-h":!0}),V(Oe)!=="svelte-kk9yx7"&&(Oe.textContent=qe),tt=w(vt),Xe.l(vt),vt.forEach(_),et=w(Fe),Re=u(Fe,"DIV",{});var bt=b(Re);ne=u(bt,"LABEL",{class:!0,"data-svelte-h":!0}),V(ne)!=="svelte-42qm1s"&&(ne.textContent=je),Te=w(bt),Pe=u(bt,"INPUT",{type:!0,min:!0,class:!0}),bt.forEach(_),ae=w(Fe),Me=u(Fe,"DIV",{class:!0});var mt=b(Me);Qe=u(mt,"BUTTON",{class:!0});var kt=b(Qe);P=H(kt,Ve),kt.forEach(_),ce=w(mt),L=u(mt,"BUTTON",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-5ja3iz"&&(L.textContent=Ce),mt.forEach(_),Fe.forEach(_),ze.forEach(_),q.forEach(_),ve.forEach(_),this.h()},h(){h(i,"class","text-2xl font-bold"),h(p,"class","text-gray-500 hover:text-gray-700 text-2xl"),h(s,"class","flex justify-between items-center mb-6"),h(C,"class","block text-sm font-semibold mb-2"),h(D,"class","w-full px-4 py-3 border rounded-xl"),l[7].question_type===void 0&&Ze(()=>l[49].call(D)),h(K,"class","block text-sm font-semibold mb-2"),h($,"rows","3"),h($,"class","w-full px-4 py-3 border rounded-xl"),h($,"placeholder","Enter your question..."),h(he,"class","block text-sm font-semibold mb-2"),A.__value="",B(A,A.__value),h(F,"class","w-full px-4 py-3 border rounded-xl"),l[7].department===void 0&&Ze(()=>l[51].call(F)),h(R,"class","block text-sm font-semibold mb-2"),U.__value="",B(U,U.__value),h(ue,"class","w-full px-4 py-3 border rounded-xl"),l[7].level===void 0&&Ze(()=>l[52].call(ue)),h(ee,"class","grid grid-cols-2 gap-4"),h(le,"class","block text-sm font-semibold mb-2"),fe.__value=null,B(fe,fe.__value),h(we,"class","w-full px-4 py-3 border rounded-xl"),l[7].lesson_id===void 0&&Ze(()=>l[54].call(we)),h(Oe,"class","block text-sm font-semibold mb-2"),h(ne,"class","block text-sm font-semibold mb-2"),h(Pe,"type","number"),h(Pe,"min","1"),h(Pe,"class","w-full px-4 py-3 border rounded-xl"),Qe.disabled=l[2],h(Qe,"class","flex-1 bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50"),h(L,"class","px-6 py-3 border rounded-xl hover:bg-gray-50"),h(Me,"class","flex space-x-4 pt-4"),h(f,"class","space-y-4"),h(n,"class","p-6"),h(t,"class","bg-white rounded-2xl shadow-2xl w-full max-w-3xl my-8"),h(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto")},m(y,ve){j(y,e,ve),r(e,t),r(t,n),r(n,s),r(s,i),r(i,a),r(i,d),r(s,v),r(s,p),r(n,g),r(n,f),r(f,m),r(m,C),r(m,I),r(m,D);for(let q=0;q<ke.length;q+=1)ke[q]&&ke[q].m(D,null);de(D,l[7].question_type,!0),r(f,O),r(f,te),r(te,K),r(te,Ee),r(te,$),B($,l[7].question_text),r(f,re),r(f,ee),r(ee,ie),r(ie,he),r(ie,W),r(ie,F),r(F,A);for(let q=0;q<se.length;q+=1)se[q]&&se[q].m(F,null);de(F,l[7].department,!0),r(ee,Z),r(ee,N),r(N,R),r(N,Le),r(N,ue),r(ue,U);for(let q=0;q<De.length;q+=1)De[q]&&De[q].m(ue,null);de(ue,l[7].level,!0),r(f,Be),r(f,Ne),r(Ne,le),r(Ne,ge),r(Ne,we),r(we,fe),x.m(we,null),de(we,l[7].lesson_id,!0),r(f,Je),J&&J.m(f,null),r(f,Ue),r(f,Se),r(Se,Oe),r(Se,tt),Xe.m(Se,null),r(f,et),r(f,Re),r(Re,ne),r(Re,Te),r(Re,Pe),B(Pe,l[7].points),r(f,ae),r(f,Me),r(Me,Qe),r(Qe,P),r(Me,ce),r(Me,L),k||(ye=[X(p,"click",l[48]),X(D,"change",l[49]),X($,"input",l[50]),X(F,"change",l[51]),X(ue,"change",l[52]),X(we,"change",l[54]),X(Pe,"input",l[60]),X(Qe,"click",l[17]),X(L,"click",l[61])],k=!0)},p(y,ve){if(ve[0]&64&&o!==(o=y[6]?"Edit":"Create")&&Ae(a,o),ve[0]&8192){G=oe(Object.entries(y[13]));let q;for(q=0;q<G.length;q+=1){const ze=Lt(y,G,q);ke[q]?ke[q].p(ze,ve):(ke[q]=al(ze),ke[q].c(),ke[q].m(D,null))}for(;q<ke.length;q+=1)ke[q].d(1);ke.length=G.length}if(ve[0]&8320&&de(D,y[7].question_type),ve[0]&8320&&B($,y[7].question_text),ve[0]&16384){Ke=oe(y[14]);let q;for(q=0;q<Ke.length;q+=1){const ze=It(y,Ke,q);se[q]?se[q].p(ze,ve):(se[q]=cl(ze),se[q].c(),se[q].m(F,null))}for(;q<se.length;q+=1)se[q].d(1);se.length=Ke.length}if(ve[0]&8320&&de(F,y[7].department),ve[0]&32768){xe=oe(y[15]);let q;for(q=0;q<xe.length;q+=1){const ze=yt(y,xe,q);De[q]?De[q].p(ze,ve):(De[q]=ul(ze),De[q].c(),De[q].m(ue,null))}for(;q<De.length;q+=1)De[q].d(1);De.length=xe.length}ve[0]&8320&&de(ue,y[7].level),He===(He=lt(y))&&x?x.p(y,ve):(x.d(1),x=He(y),x&&(x.c(),x.m(we,null))),ve[0]&8320&&de(we,y[7].lesson_id),y[7].question_type==="mcq"?J?J.p(y,ve):(J=_l(y),J.c(),J.m(f,Ue)):J&&(J.d(1),J=null),Ie===(Ie=S(y))&&Xe?Xe.p(y,ve):(Xe.d(1),Xe=Ie(y),Xe&&(Xe.c(),Xe.m(Se,null))),ve[0]&8320&&gt(Pe.value)!==y[7].points&&B(Pe,y[7].points),ve[0]&4&&Ve!==(Ve=y[2]?" Saving...":" Save Question")&&Ae(P,Ve),ve[0]&4&&(Qe.disabled=y[2])},d(y){y&&_(e),Ye(ke,y),Ye(se,y),Ye(De,y),x.d(),J&&J.d(),Xe.d(),k=!1,ht(ye)}}}function al(l){let e,t=l[81]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[80],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function cl(l){let e,t=l[77]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[77],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function ul(l){let e,t=l[74]+"",n;return{c(){e=c("option"),n=M(t),this.h()},l(s){e=u(s,"OPTION",{});var i=b(e);n=H(i,t),i.forEach(_),this.h()},h(){e.__value=l[74],B(e,e.__value)},m(s,i){j(s,e,i),r(e,n)},p:$e,d(s){s&&_(e)}}}function Nl(l){let e,t="Select Department & Level first";return{c(){e=c("option"),e.textContent=t,this.h()},l(n){e=u(n,"OPTION",{"data-svelte-h":!0}),V(e)!=="svelte-wecjk8"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.__value="Select Department & Level first",B(e,e.__value)},m(n,s){j(n,e,s)},p:$e,d(n){n&&_(e)}}}function Sl(l){let e,t=oe(l[1].filter(l[53])),n=[];for(let s=0;s<t.length;s+=1)n[s]=fl(Tt(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ft()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=ft()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);j(s,e,i)},p(s,i){if(i[0]&130){t=oe(s[1].filter(s[53]));let o;for(o=0;o<t.length;o+=1){const a=Tt(s,t,o);n[o]?n[o].p(a,i):(n[o]=fl(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&_(e),Ye(n,s)}}}function fl(l){let e,t=l[71].title+"",n,s,i=l[71].code+"",o,a,d;return{c(){e=c("option"),n=M(t),s=M(" ("),o=M(i),a=M(")"),this.h()},l(v){e=u(v,"OPTION",{});var p=b(e);n=H(p,t),s=H(p," ("),o=H(p,i),a=H(p,")"),p.forEach(_),this.h()},h(){e.__value=d=l[71].id,B(e,e.__value)},m(v,p){j(v,e,p),r(e,n),r(e,s),r(e,o),r(e,a)},p(v,p){p[0]&130&&t!==(t=v[71].title+"")&&Ae(n,t),p[0]&130&&i!==(i=v[71].code+"")&&Ae(o,i),p[0]&8322&&d!==(d=v[71].id)&&(e.__value=d,B(e,e.__value))},d(v){v&&_(e)}}}function _l(l){let e,t,n="Options",s,i,o,a="Add Option",d,v,p=oe(l[7].options),g=[];for(let f=0;f<p.length;f+=1)g[f]=hl(wt(l,p,f));return{c(){e=c("div"),t=c("label"),t.textContent=n,s=E();for(let f=0;f<g.length;f+=1)g[f].c();i=E(),o=c("button"),o.textContent=a,this.h()},l(f){e=u(f,"DIV",{});var m=b(e);t=u(m,"LABEL",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1jzw6tp"&&(t.textContent=n),s=w(m);for(let C=0;C<g.length;C+=1)g[C].l(m);i=w(m),o=u(m,"BUTTON",{class:!0,"data-svelte-h":!0}),V(o)!=="svelte-ok48ng"&&(o.textContent=a),m.forEach(_),this.h()},h(){h(t,"class","block text-sm font-semibold mb-2"),h(o,"class","mt-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg")},m(f,m){j(f,e,m),r(e,t),r(e,s);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(e,null);r(e,i),r(e,o),d||(v=X(o,"click",l[20]),d=!0)},p(f,m){if(m[0]&2097280){p=oe(f[7].options);let C;for(C=0;C<p.length;C+=1){const T=wt(f,p,C);g[C]?g[C].p(T,m):(g[C]=hl(T),g[C].c(),g[C].m(e,i))}for(;C<g.length;C+=1)g[C].d(1);g.length=p.length}},d(f){f&&_(e),Ye(g,f),d=!1,v()}}}function dl(l){let e,t="",n,s;function i(){return l[56](l[70])}return{c(){e=c("button"),e.innerHTML=t,this.h()},l(o){e=u(o,"BUTTON",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-kuui20"&&(e.innerHTML=t),this.h()},h(){h(e,"class","px-3 py-2 bg-red-100 text-red-800 rounded-lg")},m(o,a){j(o,e,a),n||(s=X(e,"click",i),n=!0)},p(o,a){l=o},d(o){o&&_(e),n=!1,s()}}}function hl(l){let e,t,n,s,i;function o(){l[55].call(t,l[70])}let a=l[7].options.length>2&&dl(l);return{c(){e=c("div"),t=c("input"),n=E(),a&&a.c(),this.h()},l(d){e=u(d,"DIV",{class:!0});var v=b(e);t=u(v,"INPUT",{class:!0,placeholder:!0}),n=w(v),a&&a.l(v),v.forEach(_),this.h()},h(){h(t,"class","flex-1 px-4 py-2 border rounded-lg"),h(t,"placeholder",`Option ${String.fromCharCode(65+l[70])}`),h(e,"class","flex space-x-2 mb-2")},m(d,v){j(d,e,v),r(e,t),B(t,l[7].options[l[70]]),r(e,n),a&&a.m(e,null),s||(i=X(t,"input",o),s=!0)},p(d,v){l=d,v[0]&8320&&t.value!==l[7].options[l[70]]&&B(t,l[7].options[l[70]]),l[7].options.length>2?a?a.p(l,v):(a=dl(l),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(d){d&&_(e),a&&a.d(),s=!1,i()}}}function Pl(l){let e,t,n;return{c(){e=c("input"),this.h()},l(s){e=u(s,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){h(e,"class","w-full px-4 py-3 border rounded-xl"),h(e,"placeholder","Enter correct answer")},m(s,i){j(s,e,i),B(e,l[7].correct_answer),t||(n=X(e,"input",l[59]),t=!0)},p(s,i){i[0]&8320&&e.value!==s[7].correct_answer&&B(e,s[7].correct_answer)},d(s){s&&_(e),t=!1,n()}}}function Vl(l){let e,t,n="True",s,i="False",o,a;return{c(){e=c("select"),t=c("option"),t.textContent=n,s=c("option"),s.textContent=i,this.h()},l(d){e=u(d,"SELECT",{class:!0});var v=b(e);t=u(v,"OPTION",{"data-svelte-h":!0}),V(t)!=="svelte-xuo0cu"&&(t.textContent=n),s=u(v,"OPTION",{"data-svelte-h":!0}),V(s)!=="svelte-1cn36e8"&&(s.textContent=i),v.forEach(_),this.h()},h(){t.__value="True",B(t,t.__value),s.__value="False",B(s,s.__value),h(e,"class","w-full px-4 py-3 border rounded-xl"),l[7].correct_answer===void 0&&Ze(()=>l[58].call(e))},m(d,v){j(d,e,v),r(e,t),r(e,s),de(e,l[7].correct_answer,!0),o||(a=X(e,"change",l[58]),o=!0)},p(d,v){v[0]&8320&&de(e,d[7].correct_answer)},d(d){d&&_(e),o=!1,a()}}}function Al(l){let e,t,n="Select correct answer",s,i,o=oe(l[7].options.filter(bl)),a=[];for(let d=0;d<o.length;d+=1)a[d]=pl(Et(l,o,d));return{c(){e=c("select"),t=c("option"),t.textContent=n;for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){e=u(d,"SELECT",{class:!0});var v=b(e);t=u(v,"OPTION",{"data-svelte-h":!0}),V(t)!=="svelte-8okv28"&&(t.textContent=n);for(let p=0;p<a.length;p+=1)a[p].l(v);v.forEach(_),this.h()},h(){t.__value="",B(t,t.__value),h(e,"class","w-full px-4 py-3 border rounded-xl"),l[7].correct_answer===void 0&&Ze(()=>l[57].call(e))},m(d,v){j(d,e,v),r(e,t);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);de(e,l[7].correct_answer,!0),s||(i=X(e,"change",l[57]),s=!0)},p(d,v){if(v[0]&128){o=oe(d[7].options.filter(bl));let p;for(p=0;p<o.length;p+=1){const g=Et(d,o,p);a[p]?a[p].p(g,v):(a[p]=pl(g),a[p].c(),a[p].m(e,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=o.length}v[0]&8320&&de(e,d[7].correct_answer)},d(d){d&&_(e),Ye(a,d),s=!1,i()}}}function pl(l){let e,t=l[66]+"",n,s;return{c(){e=c("option"),n=M(t),this.h()},l(i){e=u(i,"OPTION",{});var o=b(e);n=H(o,t),o.forEach(_),this.h()},h(){e.__value=s=l[66],B(e,e.__value)},m(i,o){j(i,e,o),r(e,n)},p(i,o){o[0]&128&&t!==(t=i[66]+"")&&Ae(n,t),o[0]&8320&&s!==(s=i[66])&&(e.__value=s,B(e,e.__value))},d(i){i&&_(e)}}}function Bl(l){let e,t,n,s='<div class="flex justify-between items-center"><div><h1 class="text-3xl font-bold text-gray-900">Question Bank</h1> <p class="text-gray-600 mt-1">Manage your quiz questions with multiple formats</p></div></div>',i,o,a,d,v,p,g,f,m,C,T,I,D,O,te,K,be,Ee,$,re,ee,ie,he,Q=l[3]&&jt(l),W=l[4]&&Ft(l),F=l[8]==="questions"&&Mt(l),A=l[8]==="upload"&&Rt(l),Y=l[8]==="create"&&Zt(l),Z=l[5]&&il(l);return{c(){e=c("div"),t=c("div"),n=c("div"),n.innerHTML=s,i=E(),o=c("div"),a=c("div"),d=c("button"),v=M("Questions"),g=E(),f=c("button"),m=M("Upload Questions"),T=E(),I=c("button"),D=M("Create Question"),te=E(),Q&&Q.c(),K=E(),W&&W.c(),be=E(),F&&F.c(),Ee=E(),A&&A.c(),$=E(),Y&&Y.c(),re=E(),Z&&Z.c(),ee=ft(),this.h()},l(N){e=u(N,"DIV",{class:!0});var R=b(e);t=u(R,"DIV",{class:!0});var z=b(t);n=u(z,"DIV",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-vvk1aj"&&(n.innerHTML=s),i=w(z),o=u(z,"DIV",{class:!0});var Le=b(o);a=u(Le,"DIV",{class:!0});var ue=b(a);d=u(ue,"BUTTON",{class:!0});var U=b(d);v=H(U,"Questions"),U.forEach(_),g=w(ue),f=u(ue,"BUTTON",{class:!0});var me=b(f);m=H(me,"Upload Questions"),me.forEach(_),T=w(ue),I=u(ue,"BUTTON",{class:!0});var Be=b(I);D=H(Be,"Create Question"),Be.forEach(_),ue.forEach(_),Le.forEach(_),te=w(z),Q&&Q.l(z),K=w(z),W&&W.l(z),be=w(z),F&&F.l(z),Ee=w(z),A&&A.l(z),$=w(z),Y&&Y.l(z),z.forEach(_),R.forEach(_),re=w(N),Z&&Z.l(N),ee=ft(),this.h()},h(){h(n,"class","bg-white rounded-2xl shadow-xl p-6 mb-6"),h(d,"class",p="flex-1 px-6 py-4 text-center font-semibold transition-all "+(l[8]==="questions"?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50")),h(f,"class",C="flex-1 px-6 py-4 text-center font-semibold transition-all "+(l[8]==="upload"?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50")),h(I,"class",O="flex-1 px-6 py-4 text-center font-semibold transition-all "+(l[8]==="create"?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50")),h(a,"class","flex border-b border-gray-200"),h(o,"class","bg-white rounded-2xl shadow-xl mb-6"),h(t,"class","max-w-7xl mx-auto"),h(e,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6")},m(N,R){j(N,e,R),r(e,t),r(t,n),r(t,i),r(t,o),r(o,a),r(a,d),r(d,v),r(a,g),r(a,f),r(f,m),r(a,T),r(a,I),r(I,D),r(t,te),Q&&Q.m(t,null),r(t,K),W&&W.m(t,null),r(t,be),F&&F.m(t,null),r(t,Ee),A&&A.m(t,null),r(t,$),Y&&Y.m(t,null),j(N,re,R),Z&&Z.m(N,R),j(N,ee,R),ie||(he=[X(d,"click",l[22]),X(f,"click",l[23]),X(I,"click",l[24])],ie=!0)},p(N,R){R[0]&256&&p!==(p="flex-1 px-6 py-4 text-center font-semibold transition-all "+(N[8]==="questions"?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"))&&h(d,"class",p),R[0]&256&&C!==(C="flex-1 px-6 py-4 text-center font-semibold transition-all "+(N[8]==="upload"?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"))&&h(f,"class",C),R[0]&256&&O!==(O="flex-1 px-6 py-4 text-center font-semibold transition-all "+(N[8]==="create"?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"))&&h(I,"class",O),N[3]?Q?Q.p(N,R):(Q=jt(N),Q.c(),Q.m(t,K)):Q&&(Q.d(1),Q=null),N[4]?W?W.p(N,R):(W=Ft(N),W.c(),W.m(t,be)):W&&(W.d(1),W=null),N[8]==="questions"?F?F.p(N,R):(F=Mt(N),F.c(),F.m(t,Ee)):F&&(F.d(1),F=null),N[8]==="upload"?A?A.p(N,R):(A=Rt(N),A.c(),A.m(t,$)):A&&(A.d(1),A=null),N[8]==="create"?Y?Y.p(N,R):(Y=Zt(N),Y.c(),Y.m(t,null)):Y&&(Y.d(1),Y=null),N[5]?Z?Z.p(N,R):(Z=il(N),Z.c(),Z.m(ee.parentNode,ee)):Z&&(Z.d(1),Z=null)},i:$e,o:$e,d(N){N&&(_(e),_(re),_(ee)),Q&&Q.d(),W&&W.d(),F&&F.d(),A&&A.d(),Y&&Y.d(),Z&&Z.d(N),ie=!1,ht(he)}}}const vl=l=>l.trim(),bl=l=>l.trim();function Ql(l,e,t){let n="",s=null,i=[],o=[],a=!1,d="",v="",p=!1,g=null,f={question_text:"",question_type:"mcq",options:["","","",""],correct_answer:"",points:1,department:"",level:"",lesson_id:null},m="questions",C=null,T="",I="",D=null;const O={mcq:"Multiple Choice",true_false:"True/False",short_answer:"Short Answer",fill_blanks:"Fill in the Blanks",matching:"Matching Pairs",ordering:"Ordering/Sequencing",essay:"Essay Question",h5p:"H5P Interactive"},te=["Software Development","Computer System and Architecture","Land Surveying","Building Construction"],K=["Level 3","Level 4","Level 5"];gl(async()=>{n=localStorage.getItem("token");const k=localStorage.getItem("user");if(!n||!k){xt("/login");return}if(s=JSON.parse(k),s.role!=="teacher"){xt("/");return}await be(),await Ee()});async function be(){try{const k=await fetch("http://localhost:8000/lessons",{headers:{Authorization:`Bearer ${n}`}});k.ok&&t(1,o=await k.json())}catch(k){console.error("Failed to load lessons:",k)}}async function Ee(){t(2,a=!0);try{const k=await fetch("http://localhost:8000/questions",{headers:{Authorization:`Bearer ${n}`}});k.ok?t(0,i=await k.json()):t(3,d="Failed to load questions")}catch{t(3,d="Network error")}finally{t(2,a=!1)}}function $(k=null){k?(t(6,g=k),t(7,f={question_text:k.question_text,question_type:k.question_type,options:k.options||["","","",""],correct_answer:k.correct_answer,points:k.points,department:k.department,level:k.level,lesson_id:k.lesson_id})):(t(6,g=null),t(7,f={question_text:"",question_type:"mcq",options:["","","",""],correct_answer:"",points:1,department:"",level:"",lesson_id:null})),t(5,p=!0)}async function re(){t(2,a=!0),t(3,d=""),t(4,v="");try{if(!f.question_text.trim()){t(3,d="Question text is required");return}if(!f.department||!f.level||!f.lesson_id){t(3,d="Please select department, level, and lesson");return}if(!f.correct_answer.trim()){t(3,d="Correct answer is required");return}const k=g?`http://localhost:8000/questions/${g.id}`:"http://localhost:8000/questions",G=await fetch(k,{method:g?"PUT":"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(f)});if(G.ok)t(4,v=g?"Question updated!":"Question created!"),t(5,p=!1),t(7,f={question_text:"",question_type:"mcq",options:["","","",""],correct_answer:"",points:1,department:"",level:"",lesson_id:null}),await Ee(),t(8,m="questions");else{const ke=await G.json();t(3,d=ke.detail||"Failed to save question")}}catch(k){t(3,d="Network error: "+k.message)}finally{t(2,a=!1)}}async function ee(k){if(confirm("Delete this question?"))try{(await fetch(`http://localhost:8000/questions/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})).ok?(t(4,v="Question deleted!"),await Ee()):t(3,d="Failed to delete question")}catch{t(3,d="Network error")}}async function ie(){if(!C||!T||!I||!D){t(3,d="Please fill all upload fields");return}t(2,a=!0),t(3,d=""),t(4,v="");try{const k=new FormData;k.append("file",C),k.append("department",T),k.append("level",I),k.append("lesson_id",D);const ye=await fetch("http://localhost:8000/questions/upload-text",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:k});if(ye.ok){const G=await ye.json();t(4,v=G.message||`Imported ${G.total} questions successfully!`),t(9,C=null),t(10,T=""),t(11,I=""),t(12,D=null),await Ee()}else{const G=await ye.json();t(3,d=G.detail||"Upload failed")}}catch(k){t(3,d="Network error: "+k.message)}finally{t(2,a=!1)}}function he(){t(7,f.options=[...f.options,""],f)}function Q(k){t(7,f.options=f.options.filter((ye,G)=>G!==k),f)}const W=()=>t(8,m="questions"),F=()=>t(8,m="upload"),A=()=>t(8,m="create"),Y=()=>t(8,m="create"),Z=()=>t(8,m="create"),N=()=>t(8,m="upload"),R=k=>$(k),z=k=>ee(k.id),Le=k=>t(9,C=k.target.files[0]);function ue(){T=Ge(this),t(10,T),t(14,te)}function U(){I=Ge(this),t(11,I),t(15,K)}const me=k=>k.department===T&&k.level===I;function Be(){D=Ge(this),t(12,D),t(1,o),t(10,T),t(11,I)}function Ne(){f.question_type=Ge(this),t(7,f),t(13,O)}function le(){f.points=gt(this.value),t(7,f),t(13,O)}function _e(){f.question_text=this.value,t(7,f),t(13,O)}function ge(){f.department=Ge(this),t(7,f),t(13,O)}function we(){f.level=Ge(this),t(7,f),t(13,O)}const fe=k=>k.department===f.department&&k.level===f.level;function pe(){f.lesson_id=Ge(this),t(7,f),t(13,O)}function Je(k){f.options[k]=this.value,t(7,f),t(13,O)}const Ue=k=>Q(k);function Se(){f.correct_answer=Ge(this),t(7,f),t(13,O)}function Oe(){f.correct_answer=Ge(this),t(7,f),t(13,O)}function qe(){f.correct_answer=this.value,t(7,f),t(13,O)}const tt=()=>t(8,m="questions"),et=()=>t(5,p=!1);function Re(){f.question_type=Ge(this),t(7,f),t(13,O)}function ne(){f.question_text=this.value,t(7,f),t(13,O)}function je(){f.department=Ge(this),t(7,f),t(13,O)}function Te(){f.level=Ge(this),t(7,f),t(13,O)}const Pe=k=>k.department===f.department&&k.level===f.level;function ae(){f.lesson_id=Ge(this),t(7,f),t(13,O)}function Me(k){f.options[k]=this.value,t(7,f),t(13,O)}const Qe=k=>Q(k);function Ve(){f.correct_answer=Ge(this),t(7,f),t(13,O)}function P(){f.correct_answer=Ge(this),t(7,f),t(13,O)}function ce(){f.correct_answer=this.value,t(7,f),t(13,O)}function L(){f.points=gt(this.value),t(7,f),t(13,O)}return[i,o,a,d,v,p,g,f,m,C,T,I,D,O,te,K,$,re,ee,ie,he,Q,W,F,A,Y,Z,N,R,z,Le,ue,U,me,Be,Ne,le,_e,ge,we,fe,pe,Je,Ue,Se,Oe,qe,tt,et,Re,ne,je,Te,Pe,ae,Me,Qe,Ve,P,ce,L,()=>t(5,p=!1)]}class Hl extends Cl{constructor(e){super(),kl(this,e,Ql,Bl,ml,{},null,[-1,-1,-1,-1])}}export{Hl as component};
