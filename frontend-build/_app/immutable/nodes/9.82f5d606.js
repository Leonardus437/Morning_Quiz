import{s as We,e as Te,n as te,r as Je}from"../chunks/scheduler.27fe8299.js";import{S as Ke,i as Qe,g as i,s as D,m as le,h as c,j as b,x as N,c as k,f as u,n as ne,k as _,E as M,a as _e,y as a,H as Q,z as X,o as Be,A as xe,I as Ie}from"../chunks/index.e0a53316.js";import{e as Y}from"../chunks/each.d148e7a3.js";import{d as Ge}from"../chunks/api.5fae4f57.js";function He(n,t,o){const r=n.slice();return r[15]=t[o],r}function ze(n,t,o){const r=n.slice();return r[18]=t[o],r}function Ue(n,t,o){const r=n.slice();return r[21]=t[o],r}function je(n){let t,o=n[21]+"",r;return{c(){t=i("option"),r=le(o),this.h()},l(d){t=c(d,"OPTION",{});var s=b(t);r=ne(s,o),s.forEach(u),this.h()},h(){t.__value=n[21],M(t,t.__value)},m(d,s){_e(d,t,s),a(t,r)},p:te,d(d){d&&u(t)}}}function Fe(n){let t,o=n[18]+"",r;return{c(){t=i("option"),r=le(o),this.h()},l(d){t=c(d,"OPTION",{});var s=b(t);r=ne(s,o),s.forEach(u),this.h()},h(){t.__value=n[18],M(t,t.__value)},m(d,s){_e(d,t,s),a(t,r)},p:te,d(d){d&&u(t)}}}function Me(n){let t,o=n[15].charAt(0).toUpperCase()+n[15].slice(1)+"",r;return{c(){t=i("option"),r=le(o),this.h()},l(d){t=c(d,"OPTION",{});var s=b(t);r=ne(s,o),s.forEach(u),this.h()},h(){t.__value=n[15],M(t,t.__value)},m(d,s){_e(d,t,s),a(t,r)},p:te,d(d){d&&u(t)}}}function Xe(n){let t,o,r="Department Reports",d,s,C,q="Generate Report",A,f,L,T,ae="Department",Z,E,x,fe="Select Department",oe,O,I,ye="Level",pe,w,P,Se="Select Level",ve,H,z,Oe="Report Type",me,y,ge,U,j,Pe="Date",be,B,Ee,G,R,$=n[4]?"Generating...":"Download PDF",se,Ce,V,ee=n[4]?"Generating...":"Download Excel",re,we,F,Re='<h3 class="font-semibold text-blue-800 mb-2">Report Information</h3> <ul class="text-sm text-blue-700 space-y-1"><li>Daily: Shows quiz results for the selected date</li> <li>Weekly: Shows quiz results for the week containing the selected date</li> <li>Monthly: Shows quiz results for the month containing the selected date</li> <li>Reports include student performance, rankings, and statistics</li></ul>',De,Ve,W=Y(n[5]),p=[];for(let l=0;l<W.length;l+=1)p[l]=je(Ue(n,W,l));let J=Y(n[6]),v=[];for(let l=0;l<J.length;l+=1)v[l]=Fe(ze(n,J,l));let K=Y(n[7]),m=[];for(let l=0;l<K.length;l+=1)m[l]=Me(He(n,K,l));return{c(){t=i("div"),o=i("h1"),o.textContent=r,d=D(),s=i("div"),C=i("h2"),C.textContent=q,A=D(),f=i("div"),L=i("div"),T=i("label"),T.textContent=ae,Z=D(),E=i("select"),x=i("option"),x.textContent=fe;for(let l=0;l<p.length;l+=1)p[l].c();oe=D(),O=i("div"),I=i("label"),I.textContent=ye,pe=D(),w=i("select"),P=i("option"),P.textContent=Se;for(let l=0;l<v.length;l+=1)v[l].c();ve=D(),H=i("div"),z=i("label"),z.textContent=Oe,me=D(),y=i("select");for(let l=0;l<m.length;l+=1)m[l].c();ge=D(),U=i("div"),j=i("label"),j.textContent=Pe,be=D(),B=i("input"),Ee=D(),G=i("div"),R=i("button"),se=le($),Ce=D(),V=i("button"),re=le(ee),we=D(),F=i("div"),F.innerHTML=Re,this.h()},l(l){t=c(l,"DIV",{class:!0});var h=b(t);o=c(h,"H1",{class:!0,"data-svelte-h":!0}),N(o)!=="svelte-1vonn1i"&&(o.textContent=r),d=k(h),s=c(h,"DIV",{class:!0});var e=b(s);C=c(e,"H2",{class:!0,"data-svelte-h":!0}),N(C)!=="svelte-mqbx7f"&&(C.textContent=q),A=k(e),f=c(e,"DIV",{class:!0});var g=b(f);L=c(g,"DIV",{});var ie=b(L);T=c(ie,"LABEL",{class:!0,"data-svelte-h":!0}),N(T)!=="svelte-6j0vbv"&&(T.textContent=ae),Z=k(ie),E=c(ie,"SELECT",{class:!0});var ke=b(E);x=c(ke,"OPTION",{"data-svelte-h":!0}),N(x)!=="svelte-c0wpa2"&&(x.textContent=fe);for(let S=0;S<p.length;S+=1)p[S].l(ke);ke.forEach(u),ie.forEach(u),oe=k(g),O=c(g,"DIV",{});var ce=b(O);I=c(ce,"LABEL",{class:!0,"data-svelte-h":!0}),N(I)!=="svelte-1qu9rtr"&&(I.textContent=ye),pe=k(ce),w=c(ce,"SELECT",{class:!0});var Le=b(w);P=c(Le,"OPTION",{"data-svelte-h":!0}),N(P)!=="svelte-d2jd54"&&(P.textContent=Se);for(let S=0;S<v.length;S+=1)v[S].l(Le);Le.forEach(u),ce.forEach(u),ve=k(g),H=c(g,"DIV",{});var de=b(H);z=c(de,"LABEL",{class:!0,"data-svelte-h":!0}),N(z)!=="svelte-b96n93"&&(z.textContent=Oe),me=k(de),y=c(de,"SELECT",{class:!0});var Ne=b(y);for(let S=0;S<m.length;S+=1)m[S].l(Ne);Ne.forEach(u),de.forEach(u),ge=k(g),U=c(g,"DIV",{});var he=b(U);j=c(he,"LABEL",{class:!0,"data-svelte-h":!0}),N(j)!=="svelte-dy4ut1"&&(j.textContent=Pe),be=k(he),B=c(he,"INPUT",{type:!0,class:!0}),he.forEach(u),g.forEach(u),Ee=k(e),G=c(e,"DIV",{class:!0});var ue=b(G);R=c(ue,"BUTTON",{class:!0});var qe=b(R);se=ne(qe,$),qe.forEach(u),Ce=k(ue),V=c(ue,"BUTTON",{class:!0});var Ae=b(V);re=ne(Ae,ee),Ae.forEach(u),ue.forEach(u),e.forEach(u),we=k(h),F=c(h,"DIV",{class:!0,"data-svelte-h":!0}),N(F)!=="svelte-ntagi7"&&(F.innerHTML=Re),h.forEach(u),this.h()},h(){_(o,"class","text-3xl font-bold mb-6"),_(C,"class","text-xl font-semibold mb-4"),_(T,"class","block text-sm font-medium mb-2"),x.__value="",M(x,x.__value),_(E,"class","w-full p-2 border rounded"),n[0]===void 0&&Te(()=>n[9].call(E)),_(I,"class","block text-sm font-medium mb-2"),P.__value="",M(P,P.__value),_(w,"class","w-full p-2 border rounded"),n[1]===void 0&&Te(()=>n[10].call(w)),_(z,"class","block text-sm font-medium mb-2"),_(y,"class","w-full p-2 border rounded"),n[2]===void 0&&Te(()=>n[11].call(y)),_(j,"class","block text-sm font-medium mb-2"),_(B,"type","date"),_(B,"class","w-full p-2 border rounded"),_(f,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"),R.disabled=n[4],_(R,"class","bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 disabled:opacity-50"),V.disabled=n[4],_(V,"class","bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:opacity-50"),_(G,"class","flex gap-4"),_(s,"class","bg-white rounded-lg shadow p-6 mb-6"),_(F,"class","bg-blue-50 border border-blue-200 rounded-lg p-4"),_(t,"class","container mx-auto p-4")},m(l,h){_e(l,t,h),a(t,o),a(t,d),a(t,s),a(s,C),a(s,A),a(s,f),a(f,L),a(L,T),a(L,Z),a(L,E),a(E,x);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(E,null);Q(E,n[0],!0),a(f,oe),a(f,O),a(O,I),a(O,pe),a(O,w),a(w,P);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(w,null);Q(w,n[1],!0),a(f,ve),a(f,H),a(H,z),a(H,me),a(H,y);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(y,null);Q(y,n[2],!0),a(f,ge),a(f,U),a(U,j),a(U,be),a(U,B),M(B,n[3]),a(s,Ee),a(s,G),a(G,R),a(R,se),a(G,Ce),a(G,V),a(V,re),a(t,we),a(t,F),De||(Ve=[X(E,"change",n[9]),X(w,"change",n[10]),X(y,"change",n[11]),X(B,"input",n[12]),X(R,"click",n[13]),X(V,"click",n[14])],De=!0)},p(l,[h]){if(h&32){W=Y(l[5]);let e;for(e=0;e<W.length;e+=1){const g=Ue(l,W,e);p[e]?p[e].p(g,h):(p[e]=je(g),p[e].c(),p[e].m(E,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=W.length}if(h&33&&Q(E,l[0]),h&64){J=Y(l[6]);let e;for(e=0;e<J.length;e+=1){const g=ze(l,J,e);v[e]?v[e].p(g,h):(v[e]=Fe(g),v[e].c(),v[e].m(w,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=J.length}if(h&66&&Q(w,l[1]),h&128){K=Y(l[7]);let e;for(e=0;e<K.length;e+=1){const g=He(l,K,e);m[e]?m[e].p(g,h):(m[e]=Me(g),m[e].c(),m[e].m(y,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=K.length}h&132&&Q(y,l[2]),h&8&&M(B,l[3]),h&16&&$!==($=l[4]?"Generating...":"Download PDF")&&Be(se,$),h&16&&(R.disabled=l[4]),h&16&&ee!==(ee=l[4]?"Generating...":"Download Excel")&&Be(re,ee),h&16&&(V.disabled=l[4])},i:te,o:te,d(l){l&&u(t),xe(p,l),xe(v,l),xe(m,l),De=!1,Je(Ve)}}}function Ye(n,t,o){let r=["Computer Science","Land Surveying","Civil Engineering","Electrical Engineering"],d=["L1","L2","L3","L4"],s=["daily","weekly","monthly"],C="",q="",A="daily",f=new Date().toISOString().split("T")[0],L=!1;async function T(O){if(!C||!q){alert("Please select department and level");return}o(4,L=!0);try{const I={department:C,level:q,reportType:A,date:f};O==="pdf"?await Ge.downloadDepartmentReport(I):await Ge.downloadDepartmentReportExcel(I)}catch{alert("Failed to download report")}finally{o(4,L=!1)}}function ae(){C=Ie(this),o(0,C),o(5,r)}function Z(){q=Ie(this),o(1,q),o(6,d)}function E(){A=Ie(this),o(2,A),o(7,s)}function x(){f=this.value,o(3,f)}return[C,q,A,f,L,r,d,s,T,ae,Z,E,x,()=>T("pdf"),()=>T("excel")]}class lt extends Ke{constructor(t){super(),Qe(this,t,Ye,Xe,We,{})}}export{lt as component};
